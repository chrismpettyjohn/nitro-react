{"ast":null,"code":"import { RoomObjectVariable } from '../RoomObjectVariable';\nimport { ObjectDataFlags } from './ObjectDataFlags';\nexport class ObjectDataBase {\n  constructor() {\n    this._flags = void 0;\n    this._uniqueNumber = void 0;\n    this._uniqueSeries = void 0;\n    this._flags = 0;\n    this._uniqueNumber = 0;\n    this._uniqueSeries = 0;\n  }\n\n  parseWrapper(wrapper) {\n    if ((this._flags & ObjectDataFlags.UNIQUE_SET) > 0) {\n      this._uniqueNumber = wrapper.readInt();\n      this._uniqueSeries = wrapper.readInt();\n    }\n  }\n\n  initializeFromRoomObjectModel(model) {\n    this._uniqueNumber = model.getValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER);\n    this._uniqueSeries = model.getValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE);\n  }\n\n  writeRoomObjectModel(model) {\n    if (!model) return;\n    model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER, this._uniqueNumber);\n    model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE, this._uniqueSeries);\n  }\n\n  getLegacyString() {\n    return '';\n  }\n\n  compare(data) {\n    return false;\n  }\n\n  get state() {\n    const state = parseInt(this.getLegacyString());\n    return isNaN(state) ? 0 : state;\n  }\n\n  get isUnique() {\n    return this._uniqueSeries > 0;\n  }\n\n  get uniqueNumber() {\n    return this._uniqueNumber;\n  }\n\n  get uniqueSeries() {\n    return this._uniqueSeries;\n  }\n\n  get rarityLevel() {\n    return -1;\n  }\n\n  get flags() {\n    return this._flags;\n  }\n\n  set flags(flags) {\n    this._flags = flags;\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/ObjectDataBase.ts"],"names":["RoomObjectVariable","ObjectDataFlags","ObjectDataBase","constructor","_flags","_uniqueNumber","_uniqueSeries","parseWrapper","wrapper","UNIQUE_SET","readInt","initializeFromRoomObjectModel","model","getValue","FURNITURE_UNIQUE_SERIAL_NUMBER","FURNITURE_UNIQUE_EDITION_SIZE","writeRoomObjectModel","setValue","getLegacyString","compare","data","state","parseInt","isNaN","isUnique","uniqueNumber","uniqueSeries","rarityLevel","flags"],"mappings":"AAEA,SAASA,kBAAT,QAAmC,uBAAnC;AAEA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,OAAO,MAAMC,cAAN,CACP;AAKIC,EAAAA,WAAW,GACX;AAAA,SALQC,MAKR;AAAA,SAJQC,aAIR;AAAA,SAHQC,aAGR;AACI,SAAKF,MAAL,GAAc,CAAd;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACH;;AAEMC,EAAAA,YAAY,CAACC,OAAD,EACnB;AACI,QAAG,CAAC,KAAKJ,MAAL,GAAcH,eAAe,CAACQ,UAA/B,IAA6C,CAAhD,EACA;AACI,WAAKJ,aAAL,GAAqBG,OAAO,CAACE,OAAR,EAArB;AACA,WAAKJ,aAAL,GAAqBE,OAAO,CAACE,OAAR,EAArB;AACH;AACJ;;AAEMC,EAAAA,6BAA6B,CAACC,KAAD,EACpC;AACI,SAAKP,aAAL,GAAqBO,KAAK,CAACC,QAAN,CAAuBb,kBAAkB,CAACc,8BAA1C,CAArB;AACA,SAAKR,aAAL,GAAqBM,KAAK,CAACC,QAAN,CAAuBb,kBAAkB,CAACe,6BAA1C,CAArB;AACH;;AAEMC,EAAAA,oBAAoB,CAACJ,KAAD,EAC3B;AACI,QAAG,CAACA,KAAJ,EAAW;AAEXA,IAAAA,KAAK,CAACK,QAAN,CAAejB,kBAAkB,CAACc,8BAAlC,EAAkE,KAAKT,aAAvE;AACAO,IAAAA,KAAK,CAACK,QAAN,CAAejB,kBAAkB,CAACe,6BAAlC,EAAiE,KAAKT,aAAtE;AACH;;AAEMY,EAAAA,eAAe,GACtB;AACI,WAAO,EAAP;AACH;;AAEMC,EAAAA,OAAO,CAACC,IAAD,EACd;AACI,WAAO,KAAP;AACH;;AAEe,MAALC,KAAK,GAChB;AACI,UAAMA,KAAK,GAAGC,QAAQ,CAAC,KAAKJ,eAAL,EAAD,CAAtB;AAEA,WAAOK,KAAK,CAACF,KAAD,CAAL,GAAe,CAAf,GAAmBA,KAA1B;AACH;;AAEkB,MAARG,QAAQ,GACnB;AACI,WAAO,KAAKlB,aAAL,GAAqB,CAA5B;AACH;;AAEsB,MAAZmB,YAAY,GACvB;AACI,WAAO,KAAKpB,aAAZ;AACH;;AAEsB,MAAZqB,YAAY,GACvB;AACI,WAAO,KAAKpB,aAAZ;AACH;;AAEqB,MAAXqB,WAAW,GACtB;AACI,WAAO,CAAC,CAAR;AACH;;AAEe,MAALC,KAAK,GAChB;AACI,WAAO,KAAKxB,MAAZ;AACH;;AAEe,MAALwB,KAAK,CAACA,KAAD,EAChB;AACI,SAAKxB,MAAL,GAAcwB,KAAd;AACH;;AAhFL","sourcesContent":["import { IMessageDataWrapper } from '../../../../core/communication/messages/IMessageDataWrapper';\r\nimport { IRoomObjectModel } from '../../../../room/object/IRoomObjectModel';\r\nimport { RoomObjectVariable } from '../RoomObjectVariable';\r\nimport { IObjectData } from './IObjectData';\r\nimport { ObjectDataFlags } from './ObjectDataFlags';\r\n\r\nexport class ObjectDataBase implements IObjectData\r\n{\r\n    private _flags: number;\r\n    private _uniqueNumber: number;\r\n    private _uniqueSeries: number;\r\n\r\n    constructor()\r\n    {\r\n        this._flags = 0;\r\n        this._uniqueNumber = 0;\r\n        this._uniqueSeries = 0;\r\n    }\r\n\r\n    public parseWrapper(wrapper: IMessageDataWrapper): void\r\n    {\r\n        if((this._flags & ObjectDataFlags.UNIQUE_SET) > 0)\r\n        {\r\n            this._uniqueNumber = wrapper.readInt();\r\n            this._uniqueSeries = wrapper.readInt();\r\n        }\r\n    }\r\n\r\n    public initializeFromRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        this._uniqueNumber = model.getValue<number>(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER);\r\n        this._uniqueSeries = model.getValue<number>(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE);\r\n    }\r\n\r\n    public writeRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        if(!model) return;\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER, this._uniqueNumber);\r\n        model.setValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE, this._uniqueSeries);\r\n    }\r\n\r\n    public getLegacyString(): string\r\n    {\r\n        return '';\r\n    }\r\n\r\n    public compare(data: IObjectData): boolean\r\n    {\r\n        return false;\r\n    }\r\n\r\n    public get state(): number\r\n    {\r\n        const state = parseInt(this.getLegacyString());\r\n\r\n        return isNaN(state) ? 0 : state;\r\n    }\r\n\r\n    public get isUnique(): boolean\r\n    {\r\n        return this._uniqueSeries > 0;\r\n    }\r\n\r\n    public get uniqueNumber(): number\r\n    {\r\n        return this._uniqueNumber;\r\n    }\r\n\r\n    public get uniqueSeries(): number\r\n    {\r\n        return this._uniqueSeries;\r\n    }\r\n\r\n    public get rarityLevel(): number\r\n    {\r\n        return -1;\r\n    }\r\n\r\n    public get flags(): number\r\n    {\r\n        return this._flags;\r\n    }\r\n\r\n    public set flags(flags: number)\r\n    {\r\n        this._flags = flags;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}