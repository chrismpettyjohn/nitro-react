{"ast":null,"code":"import { Motion } from './Motion';\nexport class Queue extends Motion {\n  constructor() {\n    for (var _len = arguments.length, motions = new Array(_len), _key = 0; _key < _len; _key++) {\n      motions[_key] = arguments[_key];\n    }\n\n    super(motions ? motions[0].target : null);\n    this._motion = void 0;\n    this._queue = void 0;\n    this._queue = [];\n\n    for (const motion of motions) this._queue.push(motion);\n\n    this._motion = motions[0];\n    this._complete = !this._motion;\n  }\n\n  get running() {\n    return this._running && this._motion ? this._motion.running : false;\n  }\n\n  start() {\n    super.start();\n\n    this._motion.start();\n  }\n\n  update(k) {\n    super.update(k);\n    if (this._motion.running) this._motion.update(k);\n  }\n\n  stop() {\n    super.stop();\n\n    this._motion.stop();\n  }\n\n  tick(k) {\n    super.tick(k);\n\n    this._motion.tick(k);\n\n    if (this._motion.complete) {\n      this._motion.stop();\n\n      const index = this._queue.indexOf(this._motion);\n\n      if (index < this._queue.length - 1) {\n        this._motion = this._queue[index + 1];\n        this._target = this._motion.target;\n\n        this._motion.start();\n      } else {\n        this._complete = true;\n      }\n    }\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/window/motion/Queue.ts"],"names":["Motion","Queue","constructor","motions","target","_motion","_queue","motion","push","_complete","running","_running","start","update","k","stop","tick","complete","index","indexOf","length","_target"],"mappings":"AAAA,SAASA,MAAT,QAAuB,UAAvB;AAEA,OAAO,MAAMC,KAAN,SAAoBD,MAApB,CACP;AAIIE,EAAAA,WAAW,GACX;AAAA,sCADeC,OACf;AADeA,MAAAA,OACf;AAAA;;AACI,UAAOA,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAP,CAAWC,MAAd,GAAuB,IAArC;AADJ,SAJQC,OAIR;AAAA,SAHQC,MAGR;AAGI,SAAKA,MAAL,GAAc,EAAd;;AAEA,SAAI,MAAMC,MAAV,IAAoBJ,OAApB,EAA6B,KAAKG,MAAL,CAAYE,IAAZ,CAAiBD,MAAjB;;AAE7B,SAAKF,OAAL,GAAeF,OAAO,CAAC,CAAD,CAAtB;AACA,SAAKM,SAAL,GAAiB,CAAC,KAAKJ,OAAvB;AACH;;AAEiB,MAAPK,OAAO,GAClB;AACI,WAAS,KAAKC,QAAL,IAAiB,KAAKN,OAAvB,GAAkC,KAAKA,OAAL,CAAaK,OAA/C,GAAyD,KAAjE;AACH;;AAEME,EAAAA,KAAK,GACZ;AACI,UAAMA,KAAN;;AAEA,SAAKP,OAAL,CAAaO,KAAb;AACH;;AAEMC,EAAAA,MAAM,CAACC,CAAD,EACb;AACI,UAAMD,MAAN,CAAaC,CAAb;AAEA,QAAG,KAAKT,OAAL,CAAaK,OAAhB,EAAyB,KAAKL,OAAL,CAAaQ,MAAb,CAAoBC,CAApB;AAC5B;;AAEMC,EAAAA,IAAI,GACX;AACI,UAAMA,IAAN;;AAEA,SAAKV,OAAL,CAAaU,IAAb;AACH;;AAEMC,EAAAA,IAAI,CAACF,CAAD,EACX;AACI,UAAME,IAAN,CAAWF,CAAX;;AAEA,SAAKT,OAAL,CAAaW,IAAb,CAAkBF,CAAlB;;AAEA,QAAG,KAAKT,OAAL,CAAaY,QAAhB,EACA;AACI,WAAKZ,OAAL,CAAaU,IAAb;;AAEA,YAAMG,KAAK,GAAG,KAAKZ,MAAL,CAAYa,OAAZ,CAAoB,KAAKd,OAAzB,CAAd;;AAEA,UAAGa,KAAK,GAAI,KAAKZ,MAAL,CAAYc,MAAZ,GAAqB,CAAjC,EACA;AACI,aAAKf,OAAL,GAAe,KAAKC,MAAL,CAAaY,KAAK,GAAG,CAArB,CAAf;AACA,aAAKG,OAAL,GAAe,KAAKhB,OAAL,CAAaD,MAA5B;;AAEA,aAAKC,OAAL,CAAaO,KAAb;AACH,OAND,MAQA;AACI,aAAKH,SAAL,GAAiB,IAAjB;AACH;AACJ;AACJ;;AAlEL","sourcesContent":["import { Motion } from './Motion';\r\n\r\nexport class Queue extends Motion\r\n{\r\n    private _motion: Motion;\r\n    private _queue: Motion[];\r\n\r\n    constructor(...motions: Motion[])\r\n    {\r\n        super((motions ? motions[0].target : null));\r\n\r\n        this._queue = [];\r\n\r\n        for(const motion of motions) this._queue.push(motion);\r\n\r\n        this._motion = motions[0];\r\n        this._complete = !this._motion;\r\n    }\r\n\r\n    public get running(): boolean\r\n    {\r\n        return ((this._running && this._motion) ? this._motion.running : false);\r\n    }\r\n\r\n    public start(): void\r\n    {\r\n        super.start();\r\n\r\n        this._motion.start();\r\n    }\r\n\r\n    public update(k: number): void\r\n    {\r\n        super.update(k);\r\n\r\n        if(this._motion.running) this._motion.update(k);\r\n    }\r\n\r\n    public stop(): void\r\n    {\r\n        super.stop();\r\n\r\n        this._motion.stop();\r\n    }\r\n\r\n    public tick(k: number): void\r\n    {\r\n        super.tick(k);\r\n\r\n        this._motion.tick(k);\r\n\r\n        if(this._motion.complete)\r\n        {\r\n            this._motion.stop();\r\n\r\n            const index = this._queue.indexOf(this._motion);\r\n\r\n            if(index < (this._queue.length - 1))\r\n            {\r\n                this._motion = this._queue[(index + 1)];\r\n                this._target = this._motion.target;\r\n\r\n                this._motion.start();\r\n            }\r\n            else\r\n            {\r\n                this._complete = true;\r\n            }\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}