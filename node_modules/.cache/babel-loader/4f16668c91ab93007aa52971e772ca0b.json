{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/components/toolbar/ToolbarMeView.tsx\",\n    _s = $RefreshSig$();\n\nimport { MouseEventType, RoomObjectCategory } from '@nitrots/nitro-renderer';\nimport { useEffect, useRef } from 'react';\nimport { CreateLinkEvent, GetRoomEngine, GetRoomSession, GetSessionDataManager, GetUserProfile, LocalizeText } from '../../api';\nimport { Base, Column, Flex, LayoutItemCountView, Text } from '../../common';\nimport { GuideToolEvent } from '../../events';\nimport { DispatchUiEvent } from '../../hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ToolbarMeView = props => {\n  _s();\n\n  const {\n    useGuideTool = false,\n    unseenAchievementCount = 0,\n    setMeExpanded = null,\n    children = null,\n    ...rest\n  } = props;\n  const elementRef = useRef();\n  useEffect(() => {\n    const roomSession = GetRoomSession();\n    if (!roomSession) return;\n    GetRoomEngine().selectRoomObject(roomSession.roomId, roomSession.ownRoomIndex, RoomObjectCategory.UNIT);\n  }, []);\n  useEffect(() => {\n    const onClick = event => setMeExpanded(false);\n\n    document.addEventListener('click', onClick);\n    return () => document.removeEventListener(MouseEventType.MOUSE_CLICK, onClick);\n  }, [setMeExpanded]);\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    innerRef: elementRef,\n    alignItems: \"center\",\n    className: \"nitro-toolbar-me p-2\",\n    gap: 3,\n    children: [useGuideTool && /*#__PURE__*/_jsxDEV(Column, {\n      gap: 1,\n      alignItems: \"center\",\n      onClick: event => DispatchUiEvent(new GuideToolEvent(GuideToolEvent.TOGGLE_GUIDE_TOOL)),\n      children: [/*#__PURE__*/_jsxDEV(Base, {\n        pointer: true,\n        className: \"navigation-item icon icon-me-helper-tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        className: \"me-text\",\n        children: LocalizeText('widget.memenu.guide')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      gap: 1,\n      alignItems: \"center\",\n      onClick: event => CreateLinkEvent('achievements/toggle'),\n      children: [/*#__PURE__*/_jsxDEV(Base, {\n        pointer: true,\n        className: \"navigation-item icon icon-me-achievements\",\n        children: unseenAchievementCount > 0 && /*#__PURE__*/_jsxDEV(LayoutItemCountView, {\n          count: unseenAchievementCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        className: \"me-text\",\n        children: LocalizeText('widget.memenu.achievements')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      gap: 1,\n      alignItems: \"center\",\n      onClick: event => GetUserProfile(GetSessionDataManager().userId),\n      children: [/*#__PURE__*/_jsxDEV(Base, {\n        pointer: true,\n        className: \"navigation-item icon icon-me-profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        className: \"me-text\",\n        children: LocalizeText('widget.memenu.profile')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      gap: 1,\n      alignItems: \"center\",\n      onClick: event => CreateLinkEvent('navigator/search/myworld_view'),\n      children: [/*#__PURE__*/_jsxDEV(Base, {\n        pointer: true,\n        className: \"navigation-item icon icon-me-rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        className: \"me-text\",\n        children: LocalizeText('widget.memenu.myrooms')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      gap: 1,\n      alignItems: \"center\",\n      onClick: event => CreateLinkEvent('avatar-editor/toggle'),\n      children: [/*#__PURE__*/_jsxDEV(Base, {\n        pointer: true,\n        className: \"navigation-item icon icon-me-clothing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        className: \"me-text\",\n        children: LocalizeText('widget.memenu.myclothes')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ToolbarMeView, \"EEXc9qBw9N+PAPgIpSDvpi+sxE4=\");\n\n_c = ToolbarMeView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToolbarMeView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/components/toolbar/ToolbarMeView.tsx"],"names":["MouseEventType","RoomObjectCategory","useEffect","useRef","CreateLinkEvent","GetRoomEngine","GetRoomSession","GetSessionDataManager","GetUserProfile","LocalizeText","Base","Column","Flex","LayoutItemCountView","Text","GuideToolEvent","DispatchUiEvent","ToolbarMeView","props","useGuideTool","unseenAchievementCount","setMeExpanded","children","rest","elementRef","roomSession","selectRoomObject","roomId","ownRoomIndex","UNIT","onClick","event","document","addEventListener","removeEventListener","MOUSE_CLICK","TOGGLE_GUIDE_TOOL","userId"],"mappings":"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","sourcesContent":["import { MouseEventType, RoomObjectCategory } from '@nitrots/nitro-renderer';\nimport { Dispatch, FC, SetStateAction, useEffect, useRef } from 'react';\nimport { CreateLinkEvent, GetRoomEngine, GetRoomSession, GetSessionDataManager, GetUserProfile, LocalizeText } from '../../api';\nimport { Base, Column, Flex, LayoutItemCountView, Text } from '../../common';\nimport { GuideToolEvent } from '../../events';\nimport { DispatchUiEvent } from '../../hooks';\n\ninterface ToolbarMeViewProps\n{\n    useGuideTool: boolean;\n    unseenAchievementCount: number;\n    setMeExpanded: Dispatch<SetStateAction<boolean>>;\n}\n\nexport const ToolbarMeView: FC<ToolbarMeViewProps> = props =>\n{\n    const { useGuideTool = false, unseenAchievementCount = 0, setMeExpanded = null, children = null, ...rest } = props;\n    const elementRef = useRef<HTMLDivElement>();\n\n    useEffect(() =>\n    {\n        const roomSession = GetRoomSession();\n\n        if(!roomSession) return;\n\n        GetRoomEngine().selectRoomObject(roomSession.roomId, roomSession.ownRoomIndex, RoomObjectCategory.UNIT);\n    }, []);\n\n    useEffect(() =>\n    {\n        const onClick = (event: MouseEvent) => setMeExpanded(false);\n\n        document.addEventListener('click', onClick);\n\n        return () => document.removeEventListener(MouseEventType.MOUSE_CLICK, onClick);\n    }, [ setMeExpanded ]);\n\n    return (\n        <Flex innerRef={ elementRef } alignItems=\"center\" className=\"nitro-toolbar-me p-2\" gap={ 3 }>\n            { useGuideTool &&\n                <Column gap={ 1 } alignItems=\"center\" onClick={ event => DispatchUiEvent(new GuideToolEvent(GuideToolEvent.TOGGLE_GUIDE_TOOL)) }>\n                    <Base pointer className=\"navigation-item icon icon-me-helper-tool\" /> \n                    <Text className=\"me-text\">{ LocalizeText('widget.memenu.guide') }</Text>\n                </Column> }\n            <Column gap={ 1 } alignItems=\"center\" onClick={ event => CreateLinkEvent('achievements/toggle') }>\n                <Base pointer className=\"navigation-item icon icon-me-achievements\">\n                    { (unseenAchievementCount > 0) &&\n                    <LayoutItemCountView count={ unseenAchievementCount } /> }\n                </Base>\n                <Text className=\"me-text\">{ LocalizeText('widget.memenu.achievements') }</Text>\n            </Column>\n            <Column gap={ 1 } alignItems=\"center\" onClick={ event => GetUserProfile(GetSessionDataManager().userId) }>\n                <Base pointer className=\"navigation-item icon icon-me-profile\" />\n                <Text className=\"me-text\">{ LocalizeText('widget.memenu.profile') }</Text>\n            </Column>\n            <Column gap={ 1 } alignItems=\"center\" onClick={ event => CreateLinkEvent('navigator/search/myworld_view') }>\n                <Base pointer className=\"navigation-item icon icon-me-rooms\" />\n                <Text className=\"me-text\">{ LocalizeText('widget.memenu.myrooms') }</Text>\n            </Column>\n            <Column gap={ 1 } alignItems=\"center\" onClick={ event => CreateLinkEvent('avatar-editor/toggle') }>\n                <Base pointer className=\"navigation-item icon icon-me-clothing\" />\n                <Text className=\"me-text\">{ LocalizeText('widget.memenu.myclothes') }</Text>\n            </Column>\n            { children }\n        </Flex>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}