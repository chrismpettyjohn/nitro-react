{"ast":null,"code":"import { RoomObjectVariable } from '../../RoomObjectVariable';\nimport { ObjectDataBase } from '../ObjectDataBase';\nimport { ObjectDataKey } from '../ObjectDataKey';\nexport class CrackableDataType extends ObjectDataBase {\n  constructor() {\n    super();\n    this._state = void 0;\n    this._hits = void 0;\n    this._target = void 0;\n    this._state = '';\n    this._hits = 0;\n    this._target = 0;\n  }\n\n  parseWrapper(wrapper) {\n    if (!wrapper) return;\n    this._state = wrapper.readString();\n    this._hits = wrapper.readInt();\n    this._target = wrapper.readInt();\n    super.parseWrapper(wrapper);\n  }\n\n  initializeFromRoomObjectModel(model) {\n    super.initializeFromRoomObjectModel(model);\n    this._state = model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE);\n    this._hits = model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS);\n    this._target = model.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET);\n  }\n\n  writeRoomObjectModel(model) {\n    super.writeRoomObjectModel(model);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, CrackableDataType.FORMAT_KEY);\n    model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE, this._state);\n    model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS, this._hits);\n    model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET, this._target);\n  }\n\n  getLegacyString() {\n    return this._state;\n  }\n\n  compare(data) {\n    return true;\n  }\n\n  get hits() {\n    return this._hits;\n  }\n\n  get target() {\n    return this._target;\n  }\n\n}\nCrackableDataType.FORMAT_KEY = ObjectDataKey.CRACKABLE_KEY;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/CrackableDataType.ts"],"names":["RoomObjectVariable","ObjectDataBase","ObjectDataKey","CrackableDataType","constructor","_state","_hits","_target","parseWrapper","wrapper","readString","readInt","initializeFromRoomObjectModel","model","getValue","FURNITURE_CRACKABLE_STATE","FURNITURE_CRACKABLE_HITS","FURNITURE_CRACKABLE_TARGET","writeRoomObjectModel","setValue","FURNITURE_DATA_FORMAT","FORMAT_KEY","getLegacyString","compare","data","hits","target","CRACKABLE_KEY"],"mappings":"AAEA,SAASA,kBAAT,QAAmC,0BAAnC;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAO,MAAMC,iBAAN,SAAgCF,cAAhC,CACP;AAOIG,EAAAA,WAAW,GACX;AACI;AADJ,SALQC,MAKR;AAAA,SAJQC,KAIR;AAAA,SAHQC,OAGR;AAGI,SAAKF,MAAL,GAAc,EAAd;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,OAAL,GAAe,CAAf;AACH;;AAEMC,EAAAA,YAAY,CAACC,OAAD,EACnB;AACI,QAAG,CAACA,OAAJ,EAAa;AAEb,SAAKJ,MAAL,GAAcI,OAAO,CAACC,UAAR,EAAd;AACA,SAAKJ,KAAL,GAAaG,OAAO,CAACE,OAAR,EAAb;AACA,SAAKJ,OAAL,GAAeE,OAAO,CAACE,OAAR,EAAf;AAEA,UAAMH,YAAN,CAAmBC,OAAnB;AACH;;AAEMG,EAAAA,6BAA6B,CAACC,KAAD,EACpC;AACI,UAAMD,6BAAN,CAAoCC,KAApC;AAEA,SAAKR,MAAL,GAAcQ,KAAK,CAACC,QAAN,CAAuBd,kBAAkB,CAACe,yBAA1C,CAAd;AACA,SAAKT,KAAL,GAAaO,KAAK,CAACC,QAAN,CAAuBd,kBAAkB,CAACgB,wBAA1C,CAAb;AACA,SAAKT,OAAL,GAAeM,KAAK,CAACC,QAAN,CAAuBd,kBAAkB,CAACiB,0BAA1C,CAAf;AACH;;AAEMC,EAAAA,oBAAoB,CAACL,KAAD,EAC3B;AACI,UAAMK,oBAAN,CAA2BL,KAA3B;AAEAA,IAAAA,KAAK,CAACM,QAAN,CAAenB,kBAAkB,CAACoB,qBAAlC,EAAyDjB,iBAAiB,CAACkB,UAA3E;AACAR,IAAAA,KAAK,CAACM,QAAN,CAAenB,kBAAkB,CAACe,yBAAlC,EAA6D,KAAKV,MAAlE;AACAQ,IAAAA,KAAK,CAACM,QAAN,CAAenB,kBAAkB,CAACgB,wBAAlC,EAA4D,KAAKV,KAAjE;AACAO,IAAAA,KAAK,CAACM,QAAN,CAAenB,kBAAkB,CAACiB,0BAAlC,EAA8D,KAAKV,OAAnE;AACH;;AAEMe,EAAAA,eAAe,GACtB;AACI,WAAO,KAAKjB,MAAZ;AACH;;AAEMkB,EAAAA,OAAO,CAACC,IAAD,EACd;AACI,WAAO,IAAP;AACH;;AAEc,MAAJC,IAAI,GACf;AACI,WAAO,KAAKnB,KAAZ;AACH;;AAEgB,MAANoB,MAAM,GACjB;AACI,WAAO,KAAKnB,OAAZ;AACH;;AAhEL;AADaJ,iB,CAEKkB,U,GAAanB,aAAa,CAACyB,a","sourcesContent":["import { IMessageDataWrapper } from '../../../../../core/communication/messages/IMessageDataWrapper';\r\nimport { IRoomObjectModel } from '../../../../../room/object/IRoomObjectModel';\r\nimport { RoomObjectVariable } from '../../RoomObjectVariable';\r\nimport { IObjectData } from '../IObjectData';\r\nimport { ObjectDataBase } from '../ObjectDataBase';\r\nimport { ObjectDataKey } from '../ObjectDataKey';\r\n\r\nexport class CrackableDataType extends ObjectDataBase implements IObjectData\r\n{\r\n    public static FORMAT_KEY = ObjectDataKey.CRACKABLE_KEY;\r\n\r\n    private _state: string;\r\n    private _hits: number;\r\n    private _target: number;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._state = '';\r\n        this._hits = 0;\r\n        this._target = 0;\r\n    }\r\n\r\n    public parseWrapper(wrapper: IMessageDataWrapper): void\r\n    {\r\n        if(!wrapper) return;\r\n\r\n        this._state = wrapper.readString();\r\n        this._hits = wrapper.readInt();\r\n        this._target = wrapper.readInt();\r\n\r\n        super.parseWrapper(wrapper);\r\n    }\r\n\r\n    public initializeFromRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.initializeFromRoomObjectModel(model);\r\n\r\n        this._state = model.getValue<string>(RoomObjectVariable.FURNITURE_CRACKABLE_STATE);\r\n        this._hits = model.getValue<number>(RoomObjectVariable.FURNITURE_CRACKABLE_HITS);\r\n        this._target = model.getValue<number>(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET);\r\n    }\r\n\r\n    public writeRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.writeRoomObjectModel(model);\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, CrackableDataType.FORMAT_KEY);\r\n        model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE, this._state);\r\n        model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS, this._hits);\r\n        model.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET, this._target);\r\n    }\r\n\r\n    public getLegacyString(): string\r\n    {\r\n        return this._state;\r\n    }\r\n\r\n    public compare(data: IObjectData): boolean\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public get hits(): number\r\n    {\r\n        return this._hits;\r\n    }\r\n\r\n    public get target(): number\r\n    {\r\n        return this._target;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}