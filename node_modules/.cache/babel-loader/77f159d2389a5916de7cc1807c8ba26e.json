{"ast":null,"code":"import { ObjectData } from '../../../incoming/room/engine/ObjectData';\nimport { FurnitureDataParser } from '../furniture/FurnitureDataParser';\nexport class ObjectsDataUpdateParser {\n  constructor() {\n    this._objects = void 0;\n  }\n\n  flush() {\n    this._objects = [];\n    return true;\n  }\n\n  parse(wrapper) {\n    if (!wrapper) return false;\n    let totalObjects = wrapper.readInt();\n\n    while (totalObjects > 0) {\n      const id = wrapper.readInt();\n      const stuffData = FurnitureDataParser.parseObjectData(wrapper);\n      const state = parseFloat(stuffData.getLegacyString());\n\n      this._objects.push(new ObjectData(id, state, stuffData));\n\n      totalObjects--;\n    }\n\n    return true;\n  }\n\n  get objects() {\n    return this._objects;\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/engine/ObjectsDataUpdateParser.ts"],"names":["ObjectData","FurnitureDataParser","ObjectsDataUpdateParser","_objects","flush","parse","wrapper","totalObjects","readInt","id","stuffData","parseObjectData","state","parseFloat","getLegacyString","push","objects"],"mappings":"AACA,SAASA,UAAT,QAA2B,0CAA3B;AACA,SAASC,mBAAT,QAAoC,kCAApC;AAEA,OAAO,MAAMC,uBAAN,CACP;AAAA;AAAA,SACYC,QADZ;AAAA;;AAGWC,EAAAA,KAAK,GACZ;AACI,SAAKD,QAAL,GAAgB,EAAhB;AAEA,WAAO,IAAP;AACH;;AAEME,EAAAA,KAAK,CAACC,OAAD,EACZ;AACI,QAAG,CAACA,OAAJ,EAAa,OAAO,KAAP;AAEb,QAAIC,YAAY,GAAGD,OAAO,CAACE,OAAR,EAAnB;;AAEA,WAAMD,YAAY,GAAG,CAArB,EACA;AACI,YAAME,EAAE,GAAGH,OAAO,CAACE,OAAR,EAAX;AACA,YAAME,SAAS,GAAGT,mBAAmB,CAACU,eAApB,CAAoCL,OAApC,CAAlB;AACA,YAAMM,KAAK,GAAGC,UAAU,CAACH,SAAS,CAACI,eAAV,EAAD,CAAxB;;AAEA,WAAKX,QAAL,CAAcY,IAAd,CAAmB,IAAIf,UAAJ,CAAeS,EAAf,EAAmBG,KAAnB,EAA0BF,SAA1B,CAAnB;;AAEAH,MAAAA,YAAY;AACf;;AAED,WAAO,IAAP;AACH;;AAEiB,MAAPS,OAAO,GAClB;AACI,WAAO,KAAKb,QAAZ;AACH;;AAjCL","sourcesContent":["import { IMessageDataWrapper, IMessageParser } from '../../../../../../core';\r\nimport { ObjectData } from '../../../incoming/room/engine/ObjectData';\r\nimport { FurnitureDataParser } from '../furniture/FurnitureDataParser';\r\n\r\nexport class ObjectsDataUpdateParser implements IMessageParser\r\n{\r\n    private _objects: ObjectData[];\r\n\r\n    public flush(): boolean\r\n    {\r\n        this._objects = [];\r\n\r\n        return true;\r\n    }\r\n\r\n    public parse(wrapper: IMessageDataWrapper): boolean\r\n    {\r\n        if(!wrapper) return false;\r\n\r\n        let totalObjects = wrapper.readInt();\r\n\r\n        while(totalObjects > 0)\r\n        {\r\n            const id = wrapper.readInt();\r\n            const stuffData = FurnitureDataParser.parseObjectData(wrapper);\r\n            const state = parseFloat(stuffData.getLegacyString());\r\n\r\n            this._objects.push(new ObjectData(id, state, stuffData));\r\n\r\n            totalObjects--;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public get objects(): ObjectData[]\r\n    {\r\n        return this._objects;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}