{"ast":null,"code":"import { FurnitureWallDataParser } from './FurnitureWallDataParser';\nexport class FurnitureWallParser {\n  constructor() {\n    this._owners = void 0;\n    this._items = void 0;\n  }\n\n  flush() {\n    this._owners = new Map();\n    this._items = [];\n    return true;\n  }\n\n  parse(wrapper) {\n    if (!wrapper) return false;\n    if (!this.parseOwners(wrapper)) return false;\n    let totalItems = wrapper.readInt();\n\n    while (totalItems > 0) {\n      const item = new FurnitureWallDataParser(wrapper);\n      if (!item) continue;\n\n      const username = this._owners.get(item.userId);\n\n      if (username) item.username = username;\n\n      this._items.push(item);\n\n      totalItems--;\n    }\n\n    return true;\n  }\n\n  parseOwners(wrapper) {\n    if (!wrapper) return false;\n    let totalOwners = wrapper.readInt();\n\n    while (totalOwners > 0) {\n      this._owners.set(wrapper.readInt(), wrapper.readString());\n\n      totalOwners--;\n    }\n\n    return true;\n  }\n\n  get owners() {\n    return this._owners;\n  }\n\n  get items() {\n    return this._items;\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallParser.ts"],"names":["FurnitureWallDataParser","FurnitureWallParser","_owners","_items","flush","Map","parse","wrapper","parseOwners","totalItems","readInt","item","username","get","userId","push","totalOwners","set","readString","owners","items"],"mappings":"AACA,SAASA,uBAAT,QAAwC,2BAAxC;AAEA,OAAO,MAAMC,mBAAN,CACP;AAAA;AAAA,SACYC,OADZ;AAAA,SAEYC,MAFZ;AAAA;;AAIWC,EAAAA,KAAK,GACZ;AACI,SAAKF,OAAL,GAAe,IAAIG,GAAJ,EAAf;AACA,SAAKF,MAAL,GAAc,EAAd;AAEA,WAAO,IAAP;AACH;;AAEMG,EAAAA,KAAK,CAACC,OAAD,EACZ;AACI,QAAG,CAACA,OAAJ,EAAa,OAAO,KAAP;AAEb,QAAG,CAAC,KAAKC,WAAL,CAAiBD,OAAjB,CAAJ,EAA+B,OAAO,KAAP;AAE/B,QAAIE,UAAU,GAAGF,OAAO,CAACG,OAAR,EAAjB;;AAEA,WAAMD,UAAU,GAAG,CAAnB,EACA;AACI,YAAME,IAAI,GAAG,IAAIX,uBAAJ,CAA4BO,OAA5B,CAAb;AAEA,UAAG,CAACI,IAAJ,EAAU;;AAEV,YAAMC,QAAQ,GAAG,KAAKV,OAAL,CAAaW,GAAb,CAAiBF,IAAI,CAACG,MAAtB,CAAjB;;AAEA,UAAGF,QAAH,EAAaD,IAAI,CAACC,QAAL,GAAgBA,QAAhB;;AAEb,WAAKT,MAAL,CAAYY,IAAZ,CAAiBJ,IAAjB;;AAEAF,MAAAA,UAAU;AACb;;AAED,WAAO,IAAP;AACH;;AAEOD,EAAAA,WAAW,CAACD,OAAD,EACnB;AACI,QAAG,CAACA,OAAJ,EAAa,OAAO,KAAP;AAEb,QAAIS,WAAW,GAAGT,OAAO,CAACG,OAAR,EAAlB;;AAEA,WAAMM,WAAW,GAAG,CAApB,EACA;AACI,WAAKd,OAAL,CAAae,GAAb,CAAiBV,OAAO,CAACG,OAAR,EAAjB,EAAoCH,OAAO,CAACW,UAAR,EAApC;;AAEAF,MAAAA,WAAW;AACd;;AAED,WAAO,IAAP;AACH;;AAEgB,MAANG,MAAM,GACjB;AACI,WAAO,KAAKjB,OAAZ;AACH;;AAEe,MAALkB,KAAK,GAChB;AACI,WAAO,KAAKjB,MAAZ;AACH;;AA9DL","sourcesContent":["import { IMessageDataWrapper, IMessageParser } from '../../../../../../../core';\r\nimport { FurnitureWallDataParser } from './FurnitureWallDataParser';\r\n\r\nexport class FurnitureWallParser implements IMessageParser\r\n{\r\n    private _owners: Map<number, string>;\r\n    private _items: FurnitureWallDataParser[];\r\n\r\n    public flush(): boolean\r\n    {\r\n        this._owners = new Map();\r\n        this._items = [];\r\n\r\n        return true;\r\n    }\r\n\r\n    public parse(wrapper: IMessageDataWrapper): boolean\r\n    {\r\n        if(!wrapper) return false;\r\n\r\n        if(!this.parseOwners(wrapper)) return false;\r\n\r\n        let totalItems = wrapper.readInt();\r\n\r\n        while(totalItems > 0)\r\n        {\r\n            const item = new FurnitureWallDataParser(wrapper);\r\n\r\n            if(!item) continue;\r\n\r\n            const username = this._owners.get(item.userId);\r\n\r\n            if(username) item.username = username;\r\n\r\n            this._items.push(item);\r\n\r\n            totalItems--;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private parseOwners(wrapper: IMessageDataWrapper): boolean\r\n    {\r\n        if(!wrapper) return false;\r\n\r\n        let totalOwners = wrapper.readInt();\r\n\r\n        while(totalOwners > 0)\r\n        {\r\n            this._owners.set(wrapper.readInt(), wrapper.readString());\r\n\r\n            totalOwners--;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public get owners(): Map<number, string>\r\n    {\r\n        return this._owners;\r\n    }\r\n\r\n    public get items(): FurnitureWallDataParser[]\r\n    {\r\n        return this._items;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}