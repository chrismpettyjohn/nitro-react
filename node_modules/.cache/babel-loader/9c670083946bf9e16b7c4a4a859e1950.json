{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/common/card/accordion/NitroCardAccordionSetView.tsx\",\n    _s = $RefreshSig$();\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Column, Flex } from '../..';\nimport { useNitroCardAccordionContext } from './NitroCardAccordionContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const NitroCardAccordionSetView = props => {\n  _s();\n\n  const {\n    headerText = '',\n    isExpanded = false,\n    gap = 0,\n    classNames = [],\n    children = null,\n    ...rest\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const {\n    setClosers = null,\n    closeAll = null\n  } = useNitroCardAccordionContext();\n\n  const onClick = () => {\n    closeAll();\n    setIsOpen(prevValue => !prevValue);\n  };\n\n  const close = useCallback(() => setIsOpen(false), []);\n  const getClassNames = useMemo(() => {\n    const newClassNames = ['nitro-card-accordion-set'];\n    if (isOpen) newClassNames.push('active');\n    if (classNames && classNames.length) newClassNames.push(...classNames);\n    return newClassNames;\n  }, [isOpen, classNames]);\n  useEffect(() => {\n    setIsOpen(isExpanded);\n  }, [isExpanded]);\n  useEffect(() => {\n    const closeFunction = close;\n    setClosers(prevValue => {\n      const newClosers = [...prevValue];\n      newClosers.push(closeFunction);\n      return newClosers;\n    });\n    return () => {\n      setClosers(prevValue => {\n        const newClosers = [...prevValue];\n        const index = newClosers.indexOf(closeFunction);\n        if (index >= 0) newClosers.splice(index, 1);\n        return newClosers;\n      });\n    };\n  }, [close, setClosers]);\n  return /*#__PURE__*/_jsxDEV(Column, {\n    classNames: getClassNames,\n    gap: gap,\n    ...rest,\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      pointer: true,\n      justifyContent: \"between\",\n      className: \"nitro-card-accordion-set-header px-2 py-1\",\n      onClick: onClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"friend-header-text d-inline\",\n        children: headerText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: isOpen ? 'caret-up' : 'caret-down'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(Column, {\n      fullHeight: true,\n      overflow: \"auto\",\n      gap: 0,\n      className: \"nitro-card-accordion-set-content p-1\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NitroCardAccordionSetView, \"FjzsVXy5TEFNKBq5mh/Hpd47Cg8=\", false, function () {\n  return [useNitroCardAccordionContext];\n});\n\n_c = NitroCardAccordionSetView;\n\nvar _c;\n\n$RefreshReg$(_c, \"NitroCardAccordionSetView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/common/card/accordion/NitroCardAccordionSetView.tsx"],"names":["FontAwesomeIcon","useCallback","useEffect","useMemo","useState","Column","Flex","useNitroCardAccordionContext","NitroCardAccordionSetView","props","headerText","isExpanded","gap","classNames","children","rest","isOpen","setIsOpen","setClosers","closeAll","onClick","prevValue","close","getClassNames","newClassNames","push","length","closeFunction","newClosers","index","indexOf","splice"],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FC, useCallback, useEffect, useMemo, useState } from 'react';\nimport { Column, ColumnProps, Flex, Text } from '../..';\nimport { useNitroCardAccordionContext } from './NitroCardAccordionContext';\n\nexport interface NitroCardAccordionSetViewProps extends ColumnProps\n{\n    headerText: string;\n    isExpanded?: boolean;\n}\n\nexport const NitroCardAccordionSetView: FC<NitroCardAccordionSetViewProps> = props =>\n{\n    const { headerText = '', isExpanded = false, gap = 0, classNames = [], children = null, ...rest } = props;\n    const [ isOpen, setIsOpen ] = useState(false);\n    const { setClosers = null, closeAll = null } = useNitroCardAccordionContext();\n\n    const onClick = () =>\n    {\n        closeAll();\n        \n        setIsOpen(prevValue => !prevValue);\n    }\n\n    const close = useCallback(() => setIsOpen(false), []);\n\n    const getClassNames = useMemo(() =>\n    {\n        const newClassNames = [ 'nitro-card-accordion-set' ];\n\n        if(isOpen) newClassNames.push('active');\n\n        if(classNames && classNames.length) newClassNames.push(...classNames);\n\n        return newClassNames;\n    }, [ isOpen, classNames ]);\n\n    useEffect(() =>\n    {\n        setIsOpen(isExpanded);\n    }, [ isExpanded ]);\n\n    useEffect(() =>\n    {\n        const closeFunction = close;\n\n        setClosers(prevValue =>\n        {\n            const newClosers = [ ...prevValue ];\n\n            newClosers.push(closeFunction);\n\n            return newClosers;\n        });\n\n        return () =>\n        {\n            setClosers(prevValue =>\n            {\n                const newClosers = [ ...prevValue ];\n\n                const index = newClosers.indexOf(closeFunction);\n\n                if(index >= 0) newClosers.splice(index, 1);\n    \n                return newClosers;\n            });\n        }\n    }, [ close, setClosers ]);\n\n    return (\n        <Column classNames={ getClassNames } gap={ gap } { ...rest }>\n            <Flex pointer justifyContent=\"between\" className=\"nitro-card-accordion-set-header px-2 py-1\" onClick={ onClick }>\n                <div className=\"friend-header-text d-inline\">{ headerText }</div>\n                <FontAwesomeIcon icon={ isOpen ? 'caret-up' : 'caret-down' } />\n            </Flex>\n            { isOpen &&\n                <Column fullHeight overflow=\"auto\" gap={ 0 } className=\"nitro-card-accordion-set-content p-1\">\n                    { children }\n                </Column> }\n        </Column>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}