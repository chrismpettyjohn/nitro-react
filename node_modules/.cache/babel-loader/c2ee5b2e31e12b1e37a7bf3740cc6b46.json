{"ast":null,"code":"import { HabboClubLevelEnum } from '@nitrots/nitro-renderer';\nimport { GetNitroInstance } from '..';\nexport class Purse {\n  constructor() {\n    this._credits = 0;\n    this._activityPoints = new Map();\n    this._clubDays = 0;\n    this._clubPeriods = 0;\n    this._isVIP = false;\n    this._pastClubDays = 0;\n    this._pastVipDays = 0;\n    this._isExpiring = false;\n    this._minutesUntilExpiration = 0;\n    this._minutesSinceLastModified = 0;\n    this._lastUpdated = 0;\n  }\n\n  static from(purse) {\n    const newPurse = new Purse();\n    newPurse._credits = purse._credits;\n    newPurse._activityPoints = purse._activityPoints;\n    newPurse._clubDays = purse._clubDays;\n    newPurse._clubPeriods = purse._clubPeriods;\n    newPurse._isVIP = purse._isVIP;\n    newPurse._pastClubDays = purse._pastClubDays;\n    newPurse._pastVipDays = purse._pastVipDays;\n    newPurse._isExpiring = purse._isExpiring;\n    newPurse._minutesUntilExpiration = purse._minutesUntilExpiration;\n    newPurse._minutesSinceLastModified = purse._minutesSinceLastModified;\n    newPurse._lastUpdated = purse._lastUpdated;\n    return newPurse;\n  }\n\n  get credits() {\n    return this._credits;\n  }\n\n  set credits(credits) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._credits = credits;\n  }\n\n  get activityPoints() {\n    return this._activityPoints;\n  }\n\n  set activityPoints(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._activityPoints = k;\n  }\n\n  get clubDays() {\n    return this._clubDays;\n  }\n\n  set clubDays(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._clubDays = k;\n  }\n\n  get clubPeriods() {\n    return this._clubPeriods;\n  }\n\n  set clubPeriods(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._clubPeriods = k;\n  }\n\n  get _Str_13571() {\n    return this._clubDays > 0 || this._clubPeriods > 0;\n  }\n\n  get isVip() {\n    return this._isVIP;\n  }\n\n  set isVip(k) {\n    this._isVIP = k;\n  }\n\n  get pastClubDays() {\n    return this._pastClubDays;\n  }\n\n  set pastClubDays(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._pastClubDays = k;\n  }\n\n  get pastVipDays() {\n    return this._pastVipDays;\n  }\n\n  set pastVipDays(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._pastVipDays = k;\n  }\n\n  get isExpiring() {\n    return this._isExpiring;\n  }\n\n  set isExpiring(k) {\n    this._isExpiring = k;\n  }\n\n  get minutesUntilExpiration() {\n    var k = (GetNitroInstance().time - this._lastUpdated) / (1000 * 60);\n\n    var _local_2 = this._minutesUntilExpiration - k;\n\n    return _local_2 > 0 ? _local_2 : 0;\n  }\n\n  set minutesUntilExpiration(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._minutesUntilExpiration = k;\n  }\n\n  get minutesSinceLastModified() {\n    return this._minutesSinceLastModified;\n  }\n\n  set minutesSinceLastModified(k) {\n    this._lastUpdated = GetNitroInstance().time;\n    this._minutesSinceLastModified = k;\n  }\n\n  get lastUpdated() {\n    return this._lastUpdated;\n  }\n\n  get clubLevel() {\n    if (this.clubDays === 0 && this.clubPeriods === 0) return HabboClubLevelEnum.NO_CLUB;\n    if (this.isVip) return HabboClubLevelEnum.VIP;\n    return HabboClubLevelEnum.CLUB;\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/api/purse/Purse.ts"],"names":["HabboClubLevelEnum","GetNitroInstance","Purse","_credits","_activityPoints","Map","_clubDays","_clubPeriods","_isVIP","_pastClubDays","_pastVipDays","_isExpiring","_minutesUntilExpiration","_minutesSinceLastModified","_lastUpdated","from","purse","newPurse","credits","time","activityPoints","k","clubDays","clubPeriods","_Str_13571","isVip","pastClubDays","pastVipDays","isExpiring","minutesUntilExpiration","_local_2","minutesSinceLastModified","lastUpdated","clubLevel","NO_CLUB","VIP","CLUB"],"mappings":"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","sourcesContent":["import { HabboClubLevelEnum } from '@nitrots/nitro-renderer';\nimport { GetNitroInstance } from '..';\nimport { IPurse } from './IPurse';\n\nexport class Purse implements IPurse\n{\n    private _credits: number = 0;\n    private _activityPoints: Map<number, number> = new Map();\n    private _clubDays: number = 0;\n    private _clubPeriods: number = 0;\n    private _isVIP: boolean = false;\n    private _pastClubDays: number = 0;\n    private _pastVipDays: number = 0;\n    private _isExpiring: boolean = false;\n    private _minutesUntilExpiration: number = 0;\n    private _minutesSinceLastModified: number = 0;\n    private _lastUpdated: number = 0;\n\n    public static from(purse: Purse): Purse\n    {\n        const newPurse = new Purse();\n\n        newPurse._credits = purse._credits;\n        newPurse._activityPoints = purse._activityPoints;\n        newPurse._clubDays = purse._clubDays;\n        newPurse._clubPeriods = purse._clubPeriods;\n        newPurse._isVIP = purse._isVIP;\n        newPurse._pastClubDays = purse._pastClubDays;\n        newPurse._pastVipDays = purse._pastVipDays;\n        newPurse._isExpiring = purse._isExpiring;\n        newPurse._minutesUntilExpiration = purse._minutesUntilExpiration;\n        newPurse._minutesSinceLastModified = purse._minutesSinceLastModified;\n        newPurse._lastUpdated = purse._lastUpdated;\n\n        return newPurse;\n    }\n\n    public get credits(): number\n    {\n        return this._credits;\n    }\n\n    public set credits(credits: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._credits = credits;\n    }\n\n    public get activityPoints(): Map<number, number>\n    {\n        return this._activityPoints;\n    }\n\n    public set activityPoints(k: Map<number, number>)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._activityPoints = k;\n    }\n\n    public get clubDays(): number\n    {\n        return this._clubDays;\n    }\n\n    public set clubDays(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._clubDays = k;\n    }\n\n    public get clubPeriods(): number\n    {\n        return this._clubPeriods;\n    }\n\n    public set clubPeriods(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._clubPeriods = k;\n    }\n\n    public get _Str_13571(): boolean\n    {\n        return (this._clubDays > 0) || (this._clubPeriods > 0);\n    }\n\n    public get isVip(): boolean\n    {\n        return this._isVIP;\n    }\n\n    public set isVip(k: boolean)\n    {\n        this._isVIP = k;\n    }\n\n    public get pastClubDays(): number\n    {\n        return this._pastClubDays;\n    }\n\n    public set pastClubDays(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._pastClubDays = k;\n    }\n\n    public get pastVipDays(): number\n    {\n        return this._pastVipDays;\n    }\n\n    public set pastVipDays(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._pastVipDays = k;\n    }\n\n    public get isExpiring(): boolean\n    {\n        return this._isExpiring;\n    }\n\n    public set isExpiring(k: boolean)\n    {\n        this._isExpiring = k;\n    }\n\n    public get minutesUntilExpiration(): number\n    {\n        var k: number = ((GetNitroInstance().time - this._lastUpdated) / (1000 * 60));\n        var _local_2: number = (this._minutesUntilExpiration - k);\n        return (_local_2 > 0) ? _local_2 : 0;\n    }\n\n    public set minutesUntilExpiration(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._minutesUntilExpiration = k;\n    }\n\n    public get minutesSinceLastModified(): number\n    {\n        return this._minutesSinceLastModified;\n    }\n\n    public set minutesSinceLastModified(k: number)\n    {\n        this._lastUpdated = GetNitroInstance().time;\n        this._minutesSinceLastModified = k;\n    }\n\n    public get lastUpdated(): number\n    {\n        return this._lastUpdated;\n    }\n\n    public get clubLevel(): number\n    {\n        if(((this.clubDays === 0) && (this.clubPeriods === 0))) return HabboClubLevelEnum.NO_CLUB;\n\n        if(this.isVip) return HabboClubLevelEnum.VIP;\n\n        return HabboClubLevelEnum.CLUB;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}