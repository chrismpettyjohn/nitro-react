{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/components/user-profile/views/UserContainerView.tsx\",\n    _s = $RefreshSig$();\n\nimport { FriendlyTime, RequestFriendComposer } from '@nitrots/nitro-renderer';\nimport { useEffect, useState } from 'react';\nimport { GetSessionDataManager, LocalizeText, SendMessageComposer } from '../../../api';\nimport { Column, Flex, LayoutAvatarImageView, Text } from '../../../common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const UserContainerView = props => {\n  _s();\n\n  const {\n    userProfile = null\n  } = props;\n  const [requestSent, setRequestSent] = useState(userProfile.requestSent);\n  const isOwnProfile = userProfile.id === GetSessionDataManager().userId;\n  const canSendFriendRequest = !requestSent && !isOwnProfile && !userProfile.isMyFriend && !userProfile.requestSent;\n\n  const addFriend = () => {\n    setRequestSent(true);\n    SendMessageComposer(new RequestFriendComposer(userProfile.username));\n  };\n\n  useEffect(() => {\n    setRequestSent(userProfile.requestSent);\n  }, [userProfile]);\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    gap: 2,\n    children: [/*#__PURE__*/_jsxDEV(Column, {\n      center: true,\n      className: \"avatar-container\",\n      children: /*#__PURE__*/_jsxDEV(LayoutAvatarImageView, {\n        figure: userProfile.figure,\n        direction: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      children: [/*#__PURE__*/_jsxDEV(Column, {\n        gap: 0,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          bold: true,\n          small: true,\n          children: userProfile.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          italics: true,\n          textBreak: true,\n          small: true,\n          children: [userProfile.motto, \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        gap: 1,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          small: true,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: LocalizeText('extendedprofile.created')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), \" \", userProfile.registration]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          small: true,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: LocalizeText('extendedprofile.last.login')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), \" \", FriendlyTime.format(userProfile.secondsSinceLastVisit, '.ago', 2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          small: true,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: LocalizeText('extendedprofile.achievementscore')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), \" \", userProfile.achievementPoints]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        gap: 1,\n        children: [userProfile.isOnline && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon icon-pf-online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), !userProfile.isOnline && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon icon-pf-offline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          alignItems: \"center\",\n          gap: 1,\n          children: [canSendFriendRequest && /*#__PURE__*/_jsxDEV(Text, {\n            small: true,\n            underline: true,\n            pointer: true,\n            onClick: addFriend,\n            children: LocalizeText('extendedprofile.addasafriend')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), !canSendFriendRequest && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icon icon-pf-tick\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), isOwnProfile && /*#__PURE__*/_jsxDEV(Text, {\n              bold: true,\n              small: true,\n              children: LocalizeText('extendedprofile.me')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 37\n            }, this), userProfile.isMyFriend && /*#__PURE__*/_jsxDEV(Text, {\n              children: LocalizeText('extendedprofile.friend')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 37\n            }, this), (requestSent || userProfile.requestSent) && /*#__PURE__*/_jsxDEV(Text, {\n              children: LocalizeText('extendedprofile.friendrequestsent')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserContainerView, \"Loi2Fg+ssDFq82hAKY+C1jc6Hw8=\");\n\n_c = UserContainerView;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContainerView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/components/user-profile/views/UserContainerView.tsx"],"names":["FriendlyTime","RequestFriendComposer","useEffect","useState","GetSessionDataManager","LocalizeText","SendMessageComposer","Column","Flex","LayoutAvatarImageView","Text","UserContainerView","props","userProfile","requestSent","setRequestSent","isOwnProfile","id","userId","canSendFriendRequest","isMyFriend","addFriend","username","figure","motto","registration","format","secondsSinceLastVisit","achievementPoints","isOnline"],"mappings":"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","sourcesContent":["import { FriendlyTime, RequestFriendComposer, UserProfileParser } from '@nitrots/nitro-renderer';\nimport { FC, useEffect, useState } from 'react';\nimport { GetSessionDataManager, LocalizeText, SendMessageComposer } from '../../../api';\nimport { Column, Flex, LayoutAvatarImageView, Text } from '../../../common';\n\ninterface UserContainerViewProps\n{\n    userProfile: UserProfileParser;\n}\n\nexport const UserContainerView: FC<UserContainerViewProps> = props =>\n{\n    const { userProfile = null } = props;\n    const [ requestSent, setRequestSent ] = useState(userProfile.requestSent);\n    const isOwnProfile = (userProfile.id === GetSessionDataManager().userId);\n    const canSendFriendRequest = !requestSent && (!isOwnProfile && !userProfile.isMyFriend && !userProfile.requestSent);\n\n    const addFriend = () =>\n    {\n        setRequestSent(true);\n\n        SendMessageComposer(new RequestFriendComposer(userProfile.username));\n    }\n\n    useEffect(() =>\n    {\n        setRequestSent(userProfile.requestSent);\n    }, [ userProfile ])\n\n    return (\n        <Flex gap={ 2 }>\n            <Column center className=\"avatar-container\">\n                <LayoutAvatarImageView figure={ userProfile.figure } direction={ 2 } />\n            </Column>\n            <Column>\n                <Column gap={ 0 }>\n                    <Text bold small>{ userProfile.username }</Text>\n                    <Text italics textBreak small>{ userProfile.motto }&nbsp;</Text>\n                </Column>\n                <Column gap={ 1 }>\n                    <Text small>\n                        <b>{ LocalizeText('extendedprofile.created') }</b> { userProfile.registration }\n                    </Text>\n                    <Text small>\n                        <b>{ LocalizeText('extendedprofile.last.login') }</b> { FriendlyTime.format(userProfile.secondsSinceLastVisit, '.ago', 2) }\n                    </Text>\n                    <Text small>\n                        <b>{ LocalizeText('extendedprofile.achievementscore') }</b> { userProfile.achievementPoints }\n                    </Text>\n                </Column>\n                <Flex gap={ 1 }>\n                    { userProfile.isOnline &&\n                        <i className=\"icon icon-pf-online\" /> }\n                    { !userProfile.isOnline &&\n                        <i className=\"icon icon-pf-offline\" /> }\n                    <Flex alignItems=\"center\" gap={ 1 }>\n                        { canSendFriendRequest &&\n                            <Text small underline pointer onClick={ addFriend }>{ LocalizeText('extendedprofile.addasafriend') }</Text> }\n                        { !canSendFriendRequest &&\n                            <>\n                                <i className=\"icon icon-pf-tick\" />\n                                { isOwnProfile &&\n                                    <Text bold small>{ LocalizeText('extendedprofile.me') }</Text> }\n                                { userProfile.isMyFriend &&\n                                    <Text>{ LocalizeText('extendedprofile.friend') }</Text> }\n                                { (requestSent || userProfile.requestSent) &&\n                                    <Text>{ LocalizeText('extendedprofile.friendrequestsent') }</Text> }\n                            </> }\n                    </Flex>\n                </Flex>\n            </Column>\n        </Flex>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}