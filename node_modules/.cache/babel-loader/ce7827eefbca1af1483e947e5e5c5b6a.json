{"ast":null,"code":"import { RoomObjectVariable } from '../../RoomObjectVariable';\nimport { ObjectDataBase } from '../ObjectDataBase';\nimport { ObjectDataKey } from '../ObjectDataKey';\nexport class LegacyDataType extends ObjectDataBase {\n  constructor() {\n    super();\n    this._data = void 0;\n    this._data = '';\n  }\n\n  parseWrapper(wrapper) {\n    if (!wrapper) return;\n    this._data = wrapper.readString();\n    super.parseWrapper(wrapper);\n  }\n\n  initializeFromRoomObjectModel(model) {\n    super.initializeFromRoomObjectModel(model);\n    this._data = model.getValue(RoomObjectVariable.FURNITURE_DATA);\n  }\n\n  writeRoomObjectModel(model) {\n    super.writeRoomObjectModel(model);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, LegacyDataType.FORMAT_KEY);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA, this._data);\n  }\n\n  getLegacyString() {\n    return this._data;\n  }\n\n  compare(data) {\n    return this._data === data.getLegacyString();\n  }\n\n  setString(data) {\n    this._data = data;\n  }\n\n}\nLegacyDataType.FORMAT_KEY = ObjectDataKey.LEGACY_KEY;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/LegacyDataType.ts"],"names":["RoomObjectVariable","ObjectDataBase","ObjectDataKey","LegacyDataType","constructor","_data","parseWrapper","wrapper","readString","initializeFromRoomObjectModel","model","getValue","FURNITURE_DATA","writeRoomObjectModel","setValue","FURNITURE_DATA_FORMAT","FORMAT_KEY","getLegacyString","compare","data","setString","LEGACY_KEY"],"mappings":"AAEA,SAASA,kBAAT,QAAmC,0BAAnC;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAO,MAAMC,cAAN,SAA6BF,cAA7B,CACP;AAKIG,EAAAA,WAAW,GACX;AACI;AADJ,SAHQC,KAGR;AAGI,SAAKA,KAAL,GAAa,EAAb;AACH;;AAEMC,EAAAA,YAAY,CAACC,OAAD,EACnB;AACI,QAAG,CAACA,OAAJ,EAAa;AAEb,SAAKF,KAAL,GAAaE,OAAO,CAACC,UAAR,EAAb;AAEA,UAAMF,YAAN,CAAmBC,OAAnB;AACH;;AAEME,EAAAA,6BAA6B,CAACC,KAAD,EACpC;AACI,UAAMD,6BAAN,CAAoCC,KAApC;AAEA,SAAKL,KAAL,GAAaK,KAAK,CAACC,QAAN,CAAuBX,kBAAkB,CAACY,cAA1C,CAAb;AACH;;AAEMC,EAAAA,oBAAoB,CAACH,KAAD,EAC3B;AACI,UAAMG,oBAAN,CAA2BH,KAA3B;AAEAA,IAAAA,KAAK,CAACI,QAAN,CAAed,kBAAkB,CAACe,qBAAlC,EAAyDZ,cAAc,CAACa,UAAxE;AACAN,IAAAA,KAAK,CAACI,QAAN,CAAed,kBAAkB,CAACY,cAAlC,EAAkD,KAAKP,KAAvD;AACH;;AAEMY,EAAAA,eAAe,GACtB;AACI,WAAO,KAAKZ,KAAZ;AACH;;AAEMa,EAAAA,OAAO,CAACC,IAAD,EACd;AACI,WAAQ,KAAKd,KAAL,KAAec,IAAI,CAACF,eAAL,EAAvB;AACH;;AAEMG,EAAAA,SAAS,CAACD,IAAD,EAChB;AACI,SAAKd,KAAL,GAAac,IAAb;AACH;;AAjDL;AADahB,c,CAEKa,U,GAAad,aAAa,CAACmB,U","sourcesContent":["import { IMessageDataWrapper } from '../../../../../core/communication/messages/IMessageDataWrapper';\r\nimport { IRoomObjectModel } from '../../../../../room/object/IRoomObjectModel';\r\nimport { RoomObjectVariable } from '../../RoomObjectVariable';\r\nimport { IObjectData } from '../IObjectData';\r\nimport { ObjectDataBase } from '../ObjectDataBase';\r\nimport { ObjectDataKey } from '../ObjectDataKey';\r\n\r\nexport class LegacyDataType extends ObjectDataBase implements IObjectData\r\n{\r\n    public static FORMAT_KEY = ObjectDataKey.LEGACY_KEY;\r\n\r\n    private _data: string;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._data = '';\r\n    }\r\n\r\n    public parseWrapper(wrapper: IMessageDataWrapper): void\r\n    {\r\n        if(!wrapper) return;\r\n\r\n        this._data = wrapper.readString();\r\n\r\n        super.parseWrapper(wrapper);\r\n    }\r\n\r\n    public initializeFromRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.initializeFromRoomObjectModel(model);\r\n\r\n        this._data = model.getValue<string>(RoomObjectVariable.FURNITURE_DATA);\r\n    }\r\n\r\n    public writeRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.writeRoomObjectModel(model);\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, LegacyDataType.FORMAT_KEY);\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA, this._data);\r\n    }\r\n\r\n    public getLegacyString(): string\r\n    {\r\n        return this._data;\r\n    }\r\n\r\n    public compare(data: IObjectData): boolean\r\n    {\r\n        return (this._data === data.getLegacyString());\r\n    }\r\n\r\n    public setString(data: string): void\r\n    {\r\n        this._data = data;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}