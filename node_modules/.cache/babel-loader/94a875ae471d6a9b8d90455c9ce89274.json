{"ast":null,"code":"import { RoomObjectVariable } from '../../RoomObjectVariable';\nimport { ObjectDataBase } from '../ObjectDataBase';\nimport { ObjectDataKey } from '../ObjectDataKey';\nexport class NumberDataType extends ObjectDataBase {\n  constructor() {\n    super();\n    this._data = void 0;\n    this._data = [];\n  }\n\n  parseWrapper(wrapper) {\n    if (!wrapper) return;\n    this._data = [];\n    const totalNumbers = wrapper.readInt();\n    if (totalNumbers) for (let i = 0; i < totalNumbers; i++) this._data.push(wrapper.readInt());\n    super.parseWrapper(wrapper);\n  }\n\n  initializeFromRoomObjectModel(model) {\n    super.initializeFromRoomObjectModel(model);\n    this._data = model.getValue(RoomObjectVariable.FURNITURE_DATA);\n  }\n\n  writeRoomObjectModel(model) {\n    super.writeRoomObjectModel(model);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, NumberDataType.FORMAT_KEY);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA, this._data);\n  }\n\n  getLegacyString() {\n    if (!this._data || !this._data.length) return '';\n    return this._data[NumberDataType.STATE].toString();\n  }\n\n  compare(data) {\n    if (!(data instanceof NumberDataType)) return false;\n    let i = 0;\n\n    while (i < this._data.length) {\n      if (i === 0) {//\n      } else {\n        if (this._data[i] !== data.getValue(i)) return false;\n      }\n\n      i++;\n    }\n\n    return true;\n  }\n\n  getValue(index) {\n    if (!this._data || !this._data.length) return -1;\n    const value = this._data[index];\n    if (value === undefined || value === null) return -1;\n    return value;\n  }\n\n}\nNumberDataType.FORMAT_KEY = ObjectDataKey.NUMBER_KEY;\nNumberDataType.STATE = 0;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/NumberDataType.ts"],"names":["RoomObjectVariable","ObjectDataBase","ObjectDataKey","NumberDataType","constructor","_data","parseWrapper","wrapper","totalNumbers","readInt","i","push","initializeFromRoomObjectModel","model","getValue","FURNITURE_DATA","writeRoomObjectModel","setValue","FURNITURE_DATA_FORMAT","FORMAT_KEY","getLegacyString","length","STATE","toString","compare","data","index","value","undefined","NUMBER_KEY"],"mappings":"AAEA,SAASA,kBAAT,QAAmC,0BAAnC;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAO,MAAMC,cAAN,SAA6BF,cAA7B,CACP;AAOIG,EAAAA,WAAW,GACX;AACI;AADJ,SAHQC,KAGR;AAGI,SAAKA,KAAL,GAAa,EAAb;AACH;;AAEMC,EAAAA,YAAY,CAACC,OAAD,EACnB;AACI,QAAG,CAACA,OAAJ,EAAa;AAEb,SAAKF,KAAL,GAAa,EAAb;AAEA,UAAMG,YAAY,GAAGD,OAAO,CAACE,OAAR,EAArB;AAEA,QAAGD,YAAH,EAAiB,KAAI,IAAIE,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,YAAnB,EAAiCE,CAAC,EAAlC,EAAsC,KAAKL,KAAL,CAAWM,IAAX,CAAgBJ,OAAO,CAACE,OAAR,EAAhB;AAEvD,UAAMH,YAAN,CAAmBC,OAAnB;AACH;;AAEMK,EAAAA,6BAA6B,CAACC,KAAD,EACpC;AACI,UAAMD,6BAAN,CAAoCC,KAApC;AAEA,SAAKR,KAAL,GAAaQ,KAAK,CAACC,QAAN,CAAyBd,kBAAkB,CAACe,cAA5C,CAAb;AACH;;AAEMC,EAAAA,oBAAoB,CAACH,KAAD,EAC3B;AACI,UAAMG,oBAAN,CAA2BH,KAA3B;AAEAA,IAAAA,KAAK,CAACI,QAAN,CAAejB,kBAAkB,CAACkB,qBAAlC,EAAyDf,cAAc,CAACgB,UAAxE;AACAN,IAAAA,KAAK,CAACI,QAAN,CAAejB,kBAAkB,CAACe,cAAlC,EAAkD,KAAKV,KAAvD;AACH;;AAEMe,EAAAA,eAAe,GACtB;AACI,QAAG,CAAC,KAAKf,KAAN,IAAe,CAAC,KAAKA,KAAL,CAAWgB,MAA9B,EAAsC,OAAO,EAAP;AAEtC,WAAO,KAAKhB,KAAL,CAAWF,cAAc,CAACmB,KAA1B,EAAiCC,QAAjC,EAAP;AACH;;AAEMC,EAAAA,OAAO,CAACC,IAAD,EACd;AACI,QAAG,EAAEA,IAAI,YAAYtB,cAAlB,CAAH,EAAsC,OAAO,KAAP;AAEtC,QAAIO,CAAC,GAAG,CAAR;;AAEA,WAAMA,CAAC,GAAG,KAAKL,KAAL,CAAWgB,MAArB,EACA;AACI,UAAGX,CAAC,KAAK,CAAT,EACA,CACI;AACH,OAHD,MAKA;AACI,YAAG,KAAKL,KAAL,CAAWK,CAAX,MAAkBe,IAAI,CAACX,QAAL,CAAcJ,CAAd,CAArB,EAAuC,OAAO,KAAP;AAC1C;;AAEDA,MAAAA,CAAC;AACJ;;AAED,WAAO,IAAP;AACH;;AAEMI,EAAAA,QAAQ,CAACY,KAAD,EACf;AACI,QAAG,CAAC,KAAKrB,KAAN,IAAe,CAAC,KAAKA,KAAL,CAAWgB,MAA9B,EAAsC,OAAO,CAAC,CAAR;AAEtC,UAAMM,KAAK,GAAG,KAAKtB,KAAL,CAAWqB,KAAX,CAAd;AAEA,QAAGC,KAAK,KAAKC,SAAV,IAAuBD,KAAK,KAAK,IAApC,EAA0C,OAAO,CAAC,CAAR;AAE1C,WAAOA,KAAP;AACH;;AAjFL;AADaxB,c,CAEKgB,U,GAAajB,aAAa,CAAC2B,U;AAFhC1B,c,CAIMmB,K,GAAgB,C","sourcesContent":["import { IMessageDataWrapper } from '../../../../../core/communication/messages/IMessageDataWrapper';\r\nimport { IRoomObjectModel } from '../../../../../room/object/IRoomObjectModel';\r\nimport { RoomObjectVariable } from '../../RoomObjectVariable';\r\nimport { IObjectData } from '../IObjectData';\r\nimport { ObjectDataBase } from '../ObjectDataBase';\r\nimport { ObjectDataKey } from '../ObjectDataKey';\r\n\r\nexport class NumberDataType extends ObjectDataBase\r\n{\r\n    public static FORMAT_KEY = ObjectDataKey.NUMBER_KEY;\r\n\r\n    private static STATE: number = 0;\r\n\r\n    private _data: number[];\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._data = [];\r\n    }\r\n\r\n    public parseWrapper(wrapper: IMessageDataWrapper): void\r\n    {\r\n        if(!wrapper) return;\r\n\r\n        this._data = [];\r\n\r\n        const totalNumbers = wrapper.readInt();\r\n\r\n        if(totalNumbers) for(let i = 0; i < totalNumbers; i++) this._data.push(wrapper.readInt());\r\n\r\n        super.parseWrapper(wrapper);\r\n    }\r\n\r\n    public initializeFromRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.initializeFromRoomObjectModel(model);\r\n\r\n        this._data = model.getValue<number[]>(RoomObjectVariable.FURNITURE_DATA);\r\n    }\r\n\r\n    public writeRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.writeRoomObjectModel(model);\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, NumberDataType.FORMAT_KEY);\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA, this._data);\r\n    }\r\n\r\n    public getLegacyString(): string\r\n    {\r\n        if(!this._data || !this._data.length) return '';\r\n\r\n        return this._data[NumberDataType.STATE].toString();\r\n    }\r\n\r\n    public compare(data: IObjectData): boolean\r\n    {\r\n        if(!(data instanceof NumberDataType)) return false;\r\n\r\n        let i = 0;\r\n\r\n        while(i < this._data.length)\r\n        {\r\n            if(i === 0)\r\n            {\r\n                //\r\n            }\r\n            else\r\n            {\r\n                if(this._data[i] !== data.getValue(i)) return false;\r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public getValue(index: number): number\r\n    {\r\n        if(!this._data || !this._data.length) return -1;\r\n\r\n        const value = this._data[index];\r\n\r\n        if(value === undefined || value === null) return -1;\r\n\r\n        return value;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}