{"ast":null,"code":"import { RoomDimmerPresetsMessageData } from '../../../incoming/room/furniture/RoomDimmerPresetsMessageData';\nexport class RoomDimmerPresetsMessageParser {\n  constructor() {\n    this._selectedPresetId = void 0;\n    this._presets = void 0;\n    this._selectedPresetId = 0;\n    this._presets = [];\n  }\n\n  flush() {\n    this._presets = [];\n    return true;\n  }\n\n  parse(wrapper) {\n    const totalPresets = wrapper.readInt();\n    this._selectedPresetId = wrapper.readInt();\n\n    for (let i = 0; i < totalPresets; i++) {\n      const presetId = wrapper.readInt();\n      const type = wrapper.readInt();\n      const color = parseInt(wrapper.readString().substr(1), 16);\n      const brightness = wrapper.readInt();\n\n      this._presets.push(new RoomDimmerPresetsMessageData(presetId, type, color, brightness));\n    }\n\n    return true;\n  }\n\n  getPreset(id) {\n    if (id < 0 || id >= this.presetCount) return null;\n    return this._presets[id];\n  }\n\n  get presetCount() {\n    return this._presets.length;\n  }\n\n  get selectedPresetId() {\n    return this._selectedPresetId;\n  }\n\n}","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/communication/messages/parser/room/furniture/RoomDimmerPresetsMessageParser.ts"],"names":["RoomDimmerPresetsMessageData","RoomDimmerPresetsMessageParser","constructor","_selectedPresetId","_presets","flush","parse","wrapper","totalPresets","readInt","i","presetId","type","color","parseInt","readString","substr","brightness","push","getPreset","id","presetCount","length","selectedPresetId"],"mappings":"AACA,SAASA,4BAAT,QAA6C,+DAA7C;AAEA,OAAO,MAAMC,8BAAN,CACP;AAIIC,EAAAA,WAAW,GACX;AAAA,SAJQC,iBAIR;AAAA,SAHQC,QAGR;AACI,SAAKD,iBAAL,GAAyB,CAAzB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACH;;AAEMC,EAAAA,KAAK,GACZ;AACI,SAAKD,QAAL,GAAgB,EAAhB;AAEA,WAAO,IAAP;AACH;;AAEME,EAAAA,KAAK,CAACC,OAAD,EACZ;AACI,UAAMC,YAAY,GAAGD,OAAO,CAACE,OAAR,EAArB;AAEA,SAAKN,iBAAL,GAAyBI,OAAO,CAACE,OAAR,EAAzB;;AAEA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,YAAnB,EAAiCE,CAAC,EAAlC,EACA;AACI,YAAMC,QAAQ,GAAGJ,OAAO,CAACE,OAAR,EAAjB;AACA,YAAMG,IAAI,GAAGL,OAAO,CAACE,OAAR,EAAb;AACA,YAAMI,KAAK,GAAGC,QAAQ,CAACP,OAAO,CAACQ,UAAR,GAAqBC,MAArB,CAA4B,CAA5B,CAAD,EAAiC,EAAjC,CAAtB;AACA,YAAMC,UAAU,GAAGV,OAAO,CAACE,OAAR,EAAnB;;AAEA,WAAKL,QAAL,CAAcc,IAAd,CAAmB,IAAIlB,4BAAJ,CAAiCW,QAAjC,EAA2CC,IAA3C,EAAiDC,KAAjD,EAAwDI,UAAxD,CAAnB;AACH;;AAED,WAAO,IAAP;AACH;;AAEME,EAAAA,SAAS,CAACC,EAAD,EAChB;AACI,QAAIA,EAAE,GAAG,CAAN,IAAaA,EAAE,IAAI,KAAKC,WAA3B,EAAyC,OAAO,IAAP;AAEzC,WAAO,KAAKjB,QAAL,CAAcgB,EAAd,CAAP;AACH;;AAEqB,MAAXC,WAAW,GACtB;AACI,WAAO,KAAKjB,QAAL,CAAckB,MAArB;AACH;;AAE0B,MAAhBC,gBAAgB,GAC3B;AACI,WAAO,KAAKpB,iBAAZ;AACH;;AAnDL","sourcesContent":["import { IMessageDataWrapper, IMessageParser } from '../../../../../../core';\r\nimport { RoomDimmerPresetsMessageData } from '../../../incoming/room/furniture/RoomDimmerPresetsMessageData';\r\n\r\nexport class RoomDimmerPresetsMessageParser implements IMessageParser\r\n{\r\n    private _selectedPresetId: number;\r\n    private _presets: RoomDimmerPresetsMessageData[];\r\n\r\n    constructor()\r\n    {\r\n        this._selectedPresetId = 0;\r\n        this._presets = [];\r\n    }\r\n\r\n    public flush(): boolean\r\n    {\r\n        this._presets = [];\r\n\r\n        return true;\r\n    }\r\n\r\n    public parse(wrapper: IMessageDataWrapper): boolean\r\n    {\r\n        const totalPresets = wrapper.readInt();\r\n\r\n        this._selectedPresetId = wrapper.readInt();\r\n\r\n        for(let i = 0; i < totalPresets; i++)\r\n        {\r\n            const presetId = wrapper.readInt();\r\n            const type = wrapper.readInt();\r\n            const color = parseInt(wrapper.readString().substr(1), 16);\r\n            const brightness = wrapper.readInt();\r\n\r\n            this._presets.push(new RoomDimmerPresetsMessageData(presetId, type, color, brightness));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public getPreset(id: number): RoomDimmerPresetsMessageData\r\n    {\r\n        if((id < 0) || (id >= this.presetCount)) return null;\r\n\r\n        return this._presets[id];\r\n    }\r\n\r\n    public get presetCount(): number\r\n    {\r\n        return this._presets.length;\r\n    }\r\n\r\n    public get selectedPresetId(): number\r\n    {\r\n        return this._selectedPresetId;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}