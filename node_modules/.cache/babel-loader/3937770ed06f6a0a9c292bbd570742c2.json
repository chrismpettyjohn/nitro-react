{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/components/hc-center/HcCenterView.tsx\",\n    _s = $RefreshSig$();\n\nimport { ClubGiftInfoEvent, FriendlyTime, GetClubGiftInfo, ScrGetKickbackInfoMessageComposer, ScrSendKickbackInfoMessageEvent } from '@nitrots/nitro-renderer';\nimport { useCallback, useEffect, useState } from 'react';\nimport { OverlayTrigger, Popover } from 'react-bootstrap';\nimport { AddEventLinkTracker, ClubStatus, CreateLinkEvent, GetClubBadge, GetConfiguration, LocalizeText, RemoveLinkEventTracker, SendMessageComposer } from '../../api';\nimport { Base, Button, Column, Flex, LayoutAvatarImageView, LayoutBadgeImageView, NitroCardContentView, NitroCardHeaderView, NitroCardView, Text } from '../../common';\nimport { useInventoryBadges, UseMessageEventHook, usePurse, useSessionInfo } from '../../hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HcCenterView = props => {\n  _s();\n\n  const [isVisible, setIsVisible] = useState(false);\n  const [kickbackData, setKickbackData] = useState(null);\n  const [unclaimedGifts, setUnclaimedGifts] = useState(0);\n  const [badgeCode, setBadgeCode] = useState(null);\n  const {\n    userFigure = null\n  } = useSessionInfo();\n  const {\n    purse = null,\n    clubStatus = null\n  } = usePurse();\n  const {\n    badgeCodes = [],\n    activate = null,\n    deactivate = null\n  } = useInventoryBadges();\n\n  const getClubText = () => {\n    if (purse.clubDays <= 0) return LocalizeText('purse.clubdays.zero.amount.text');\n\n    if (purse.minutesUntilExpiration > -1 && purse.minutesUntilExpiration < 60 * 24) {\n      return FriendlyTime.shortFormat(purse.minutesUntilExpiration * 60);\n    }\n\n    return FriendlyTime.shortFormat((purse.clubPeriods * 31 + purse.clubDays) * 86400);\n  };\n\n  const getInfoText = () => {\n    switch (clubStatus) {\n      case ClubStatus.ACTIVE:\n        return LocalizeText(`hccenter.status.${clubStatus}.info`, ['timeleft', 'joindate', 'streakduration'], [getClubText(), kickbackData.firstSubscriptionDate, FriendlyTime.shortFormat(kickbackData.currentHcStreak * 86400)]);\n\n      case ClubStatus.EXPIRED:\n        return LocalizeText(`hccenter.status.${clubStatus}.info`, ['joindate'], [kickbackData.firstSubscriptionDate]);\n\n      default:\n        return LocalizeText(`hccenter.status.${clubStatus}.info`);\n    }\n  };\n\n  const getHcPaydayTime = () => kickbackData.timeUntilPayday < 60 ? LocalizeText('hccenter.special.time.soon') : FriendlyTime.shortFormat(kickbackData.timeUntilPayday * 60);\n\n  const getHcPaydayAmount = () => LocalizeText('hccenter.special.sum', ['credits'], [(kickbackData.creditRewardForStreakBonus + kickbackData.creditRewardForMonthlySpent).toString()]);\n\n  const onClubGiftInfoEvent = useCallback(event => {\n    const parser = event.getParser();\n    setUnclaimedGifts(parser.giftsAvailable);\n  }, []);\n  UseMessageEventHook(ClubGiftInfoEvent, onClubGiftInfoEvent);\n  const onScrSendKickbackInfo = useCallback(event => {\n    const parser = event.getParser();\n    setKickbackData(parser.data);\n  }, []);\n  UseMessageEventHook(ScrSendKickbackInfoMessageEvent, onScrSendKickbackInfo);\n  useEffect(() => {\n    const linkTracker = {\n      linkReceived: url => {\n        const parts = url.split('/');\n        if (parts.length < 2) return;\n\n        switch (parts[1]) {\n          case 'open':\n            if (parts.length > 2) {\n              switch (parts[2]) {\n                case 'hccenter':\n                  setIsVisible(true);\n                  break;\n              }\n            }\n\n            return;\n        }\n      },\n      eventUrlPrefix: 'habboUI/'\n    };\n    AddEventLinkTracker(linkTracker);\n    return () => RemoveLinkEventTracker(linkTracker);\n  }, []);\n  useEffect(() => {\n    setBadgeCode(GetClubBadge(badgeCodes));\n  }, [badgeCodes]);\n  useEffect(() => {\n    if (!isVisible) return;\n    const id = activate();\n    return () => deactivate(id);\n  }, [isVisible, activate, deactivate]);\n  useEffect(() => {\n    SendMessageComposer(new GetClubGiftInfo());\n    SendMessageComposer(new ScrGetKickbackInfoMessageComposer());\n  }, []);\n  if (!isVisible) return null;\n\n  const popover = /*#__PURE__*/_jsxDEV(Popover, {\n    id: \"popover-basic\",\n    children: /*#__PURE__*/_jsxDEV(Popover.Body, {\n      className: \"text-black py-2 px-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: LocalizeText('hccenter.breakdown.title')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: LocalizeText('hccenter.breakdown.creditsspent', ['credits'], [kickbackData.totalCreditsSpent.toString()])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: LocalizeText('hccenter.breakdown.paydayfactor.percent', ['percent'], [(kickbackData.kickbackPercentage * 100).toString()])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: LocalizeText('hccenter.breakdown.streakbonus', ['credits'], [kickbackData.creditRewardForStreakBonus.toString()])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"w-100 text-black my-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: LocalizeText('hccenter.breakdown.total', ['credits', 'actual'], [getHcPaydayAmount(), ((kickbackData.kickbackPercentage * kickbackData.totalCreditsSpent + kickbackData.creditRewardForStreakBonus) * 100 / 100).toString()])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-link text-primary p-0\",\n        onClick: () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['payday.habbopage']),\n        children: LocalizeText('hccenter.special.infolink')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(NitroCardView, {\n    theme: \"primary\",\n    className: \"nitro-hc-center\",\n    children: [/*#__PURE__*/_jsxDEV(NitroCardHeaderView, {\n      headerText: LocalizeText('generic.hccenter'),\n      onCloseClick: () => setIsVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      position: \"relative\",\n      className: \"bg-muted p-2 hc-logo\",\n      children: [/*#__PURE__*/_jsxDEV(Column, {\n        gap: 1,\n        justifyContent: \"end\",\n        className: \"px-2\",\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: event => CreateLinkEvent('catalog/open/' + GetConfiguration('catalog.links')['hc.buy_hc']),\n            children: LocalizeText(clubStatus === ClubStatus.ACTIVE ? 'hccenter.btn.extend' : 'hccenter.btn.buy')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Base, {\n        position: \"absolute\",\n        className: \"end-0 p-4 top-3 habbo-avatar\",\n        children: /*#__PURE__*/_jsxDEV(LayoutAvatarImageView, {\n          figure: userFigure,\n          direction: 4,\n          scale: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NitroCardContentView, {\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        gap: 2,\n        children: [/*#__PURE__*/_jsxDEV(LayoutBadgeImageView, {\n          badgeCode: badgeCode,\n          className: \"align-self-center flex-shrink-0 me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          size: 5,\n          className: \"streak-info\",\n          gap: 0,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            small: true,\n            children: LocalizeText('hccenter.status.' + clubStatus)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            small: true,\n            dangerouslySetInnerHTML: {\n              __html: getInfoText()\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), GetConfiguration('hc.center')['payday.info'] && /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          gap: 1,\n          className: \"p-2 payday-special mb-1 ml-1\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            variant: \"white\",\n            bold: true,\n            children: LocalizeText('hccenter.special.title')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            variant: \"white\",\n            small: true,\n            children: LocalizeText('hccenter.special.info')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            variant: \"white\",\n            small: true,\n            underline: true,\n            className: \"pt-4 cursor-pointer\",\n            onClick: () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['payday.habbopage']),\n            children: LocalizeText('hccenter.special.infolink')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          gap: 0,\n          className: \"payday flex-shrink-0 p-2\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            bold: true,\n            className: \"ms-2\",\n            children: LocalizeText('hccenter.special.time.title')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Flex, {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"clock me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              className: \"align-self-center\",\n              children: getHcPaydayTime()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }, this), clubStatus === ClubStatus.ACTIVE && /*#__PURE__*/_jsxDEV(Column, {\n            gap: 1,\n            className: \"pe-3 pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              bold: true,\n              className: \"ms-2\",\n              children: LocalizeText('hccenter.special.amount.title')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                className: \"w-100 text-center ms-4n\",\n                children: getHcPaydayAmount()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                trigger: ['hover', 'focus'],\n                placement: \"left\",\n                overlay: popover,\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  underline: true,\n                  small: true,\n                  variant: \"primary\",\n                  className: \"pt-4\",\n                  children: LocalizeText('hccenter.breakdown.infolink')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }, this), GetConfiguration('hc.center')['gift.info'] && /*#__PURE__*/_jsxDEV(Flex, {\n        className: \"hc-gift-special p-2\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            variant: \"white\",\n            bold: true,\n            children: LocalizeText('hccenter.gift.title')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            variant: \"white\",\n            dangerouslySetInnerHTML: {\n              __html: unclaimedGifts > 0 ? LocalizeText('hccenter.unclaimedgifts', ['unclaimedgifts'], [unclaimedGifts.toString()]) : LocalizeText('hccenter.gift.info')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-lg align-self-center ms-auto\",\n          onClick: () => CreateLinkEvent('catalog/open/' + GetConfiguration('catalog.links')['hc.hc_gifts']),\n          children: LocalizeText(clubStatus === ClubStatus.ACTIVE ? 'hccenter.btn.gifts.redeem' : 'hccenter.btn.gifts.view')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }, this), GetConfiguration('hc.center')['benefits.info'] && /*#__PURE__*/_jsxDEV(Column, {\n        className: \"benefits py-2\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          bold: true,\n          variant: \"primary\",\n          children: LocalizeText('hccenter.general.title')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          small: true,\n          dangerouslySetInnerHTML: {\n            __html: LocalizeText('hccenter.general.info')\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          small: true,\n          underline: true,\n          className: \"cursor-pointer\",\n          variant: \"primary\",\n          onClick: () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['benefits.habbopage']),\n          children: LocalizeText('hccenter.general.infolink')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HcCenterView, \"mRfPVqJjI3pUTxMsopVrfCZCbnc=\", false, function () {\n  return [useSessionInfo, usePurse, useInventoryBadges];\n});\n\n_c = HcCenterView;\n\nvar _c;\n\n$RefreshReg$(_c, \"HcCenterView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/components/hc-center/HcCenterView.tsx"],"names":["ClubGiftInfoEvent","FriendlyTime","GetClubGiftInfo","ScrGetKickbackInfoMessageComposer","ScrSendKickbackInfoMessageEvent","useCallback","useEffect","useState","OverlayTrigger","Popover","AddEventLinkTracker","ClubStatus","CreateLinkEvent","GetClubBadge","GetConfiguration","LocalizeText","RemoveLinkEventTracker","SendMessageComposer","Base","Button","Column","Flex","LayoutAvatarImageView","LayoutBadgeImageView","NitroCardContentView","NitroCardHeaderView","NitroCardView","Text","useInventoryBadges","UseMessageEventHook","usePurse","useSessionInfo","HcCenterView","props","isVisible","setIsVisible","kickbackData","setKickbackData","unclaimedGifts","setUnclaimedGifts","badgeCode","setBadgeCode","userFigure","purse","clubStatus","badgeCodes","activate","deactivate","getClubText","clubDays","minutesUntilExpiration","shortFormat","clubPeriods","getInfoText","ACTIVE","firstSubscriptionDate","currentHcStreak","EXPIRED","getHcPaydayTime","timeUntilPayday","getHcPaydayAmount","creditRewardForStreakBonus","creditRewardForMonthlySpent","toString","onClubGiftInfoEvent","event","parser","getParser","giftsAvailable","onScrSendKickbackInfo","data","linkTracker","linkReceived","url","parts","split","length","eventUrlPrefix","id","popover","totalCreditsSpent","kickbackPercentage","__html"],"mappings":"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","sourcesContent":["import { ClubGiftInfoEvent, FriendlyTime, GetClubGiftInfo, ILinkEventTracker, ScrGetKickbackInfoMessageComposer, ScrKickbackData, ScrSendKickbackInfoMessageEvent } from '@nitrots/nitro-renderer';\nimport { FC, useCallback, useEffect, useState } from 'react';\nimport { OverlayTrigger, Popover } from 'react-bootstrap';\nimport { AddEventLinkTracker, ClubStatus, CreateLinkEvent, GetClubBadge, GetConfiguration, LocalizeText, RemoveLinkEventTracker, SendMessageComposer } from '../../api';\nimport { Base, Button, Column, Flex, LayoutAvatarImageView, LayoutBadgeImageView, NitroCardContentView, NitroCardHeaderView, NitroCardView, Text } from '../../common';\nimport { useInventoryBadges, UseMessageEventHook, usePurse, useSessionInfo } from '../../hooks';\n\n\nexport const HcCenterView: FC<{}> = props =>\n{\n    const [ isVisible, setIsVisible ] = useState(false);\n    const [ kickbackData, setKickbackData ] = useState<ScrKickbackData>(null);\n    const [ unclaimedGifts, setUnclaimedGifts ] = useState(0);\n    const [ badgeCode, setBadgeCode ] = useState(null);\n    const { userFigure = null } = useSessionInfo();\n    const { purse = null, clubStatus = null } = usePurse();\n    const { badgeCodes = [], activate = null, deactivate = null } = useInventoryBadges();\n\n    const getClubText = () =>\n    {\n        if(purse.clubDays <= 0) return LocalizeText('purse.clubdays.zero.amount.text');\n        \n        if((purse.minutesUntilExpiration > -1) && (purse.minutesUntilExpiration < (60 * 24)))\n        {\n            return FriendlyTime.shortFormat(purse.minutesUntilExpiration * 60);\n        }\n        \n        return FriendlyTime.shortFormat(((purse.clubPeriods * 31) + purse.clubDays) * 86400);\n    }\n\n    const getInfoText = () =>\n    {\n        switch(clubStatus)\n        {\n            case ClubStatus.ACTIVE:\n                return LocalizeText(`hccenter.status.${ clubStatus }.info`, [ 'timeleft', 'joindate', 'streakduration' ], [ getClubText(), kickbackData.firstSubscriptionDate, FriendlyTime.shortFormat(kickbackData.currentHcStreak * 86400) ]);\n            case ClubStatus.EXPIRED:\n                return LocalizeText(`hccenter.status.${ clubStatus }.info`, [ 'joindate' ], [ kickbackData.firstSubscriptionDate ]);\n            default:\n                return LocalizeText(`hccenter.status.${ clubStatus }.info`);\n        }\n    }\n\n    const getHcPaydayTime = () => (kickbackData.timeUntilPayday < 60) ? LocalizeText('hccenter.special.time.soon') : FriendlyTime.shortFormat(kickbackData.timeUntilPayday * 60);\n    const getHcPaydayAmount = () => LocalizeText('hccenter.special.sum', [ 'credits' ], [ (kickbackData.creditRewardForStreakBonus + kickbackData.creditRewardForMonthlySpent).toString() ]);\n\n    const onClubGiftInfoEvent = useCallback((event: ClubGiftInfoEvent) =>\n    {\n        const parser = event.getParser();\n\n        setUnclaimedGifts(parser.giftsAvailable);\n    }, []);\n\n    UseMessageEventHook(ClubGiftInfoEvent, onClubGiftInfoEvent);\n\n    const onScrSendKickbackInfo = useCallback((event: ScrSendKickbackInfoMessageEvent) =>\n    {\n        const parser = event.getParser();\n\n        setKickbackData(parser.data);\n    }, []);\n\n    UseMessageEventHook(ScrSendKickbackInfoMessageEvent, onScrSendKickbackInfo);\n\n    useEffect(() =>\n    {\n        const linkTracker: ILinkEventTracker = {\n            linkReceived: (url: string) =>\n            {\n                const parts = url.split('/');\n        \n                if(parts.length < 2) return;\n        \n                switch(parts[1])\n                {\n                    case 'open':\n                        if(parts.length > 2)\n                        {\n                            switch(parts[2])\n                            {\n                                case 'hccenter':\n                                    setIsVisible(true);\n                                    break;\n                            }\n                        }\n                        return;\n                } \n            },\n            eventUrlPrefix: 'habboUI/'\n        };\n\n        AddEventLinkTracker(linkTracker);\n\n        return () => RemoveLinkEventTracker(linkTracker);\n    }, []);\n\n    useEffect(() =>\n    {\n        setBadgeCode(GetClubBadge(badgeCodes));\n    }, [ badgeCodes ]);\n\n    useEffect(() =>\n    {\n        if(!isVisible) return;\n\n        const id = activate();\n\n        return () => deactivate(id);\n    }, [ isVisible, activate, deactivate ]);\n\n    useEffect(() =>\n    {\n        SendMessageComposer(new GetClubGiftInfo());\n        SendMessageComposer(new ScrGetKickbackInfoMessageComposer());\n    }, []);\n\n    if(!isVisible) return null;\n\n    const popover = (\n        <Popover id=\"popover-basic\">\n            <Popover.Body className=\"text-black py-2 px-3\">\n                <h5>{ LocalizeText('hccenter.breakdown.title') }</h5>\n                <div>{ LocalizeText('hccenter.breakdown.creditsspent', [ 'credits' ], [ kickbackData.totalCreditsSpent.toString() ]) }</div>\n                <div>{ LocalizeText('hccenter.breakdown.paydayfactor.percent', [ 'percent' ], [ (kickbackData.kickbackPercentage * 100).toString() ]) }</div>\n                <div>{ LocalizeText('hccenter.breakdown.streakbonus', [ 'credits' ], [ kickbackData.creditRewardForStreakBonus.toString() ]) }</div>\n                <hr className=\"w-100 text-black my-1\" />\n                <div>{ LocalizeText('hccenter.breakdown.total', [ 'credits', 'actual' ], [ getHcPaydayAmount(), ((((kickbackData.kickbackPercentage * kickbackData.totalCreditsSpent) + kickbackData.creditRewardForStreakBonus) * 100) / 100).toString() ]) }</div>\n                <div className=\"btn btn-link text-primary p-0\" onClick={ () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['payday.habbopage']) }>\n                    { LocalizeText('hccenter.special.infolink') }\n                </div>\n            </Popover.Body>\n        </Popover>\n    );\n\n    return (\n        <NitroCardView theme=\"primary\" className=\"nitro-hc-center\">\n            <NitroCardHeaderView headerText={ LocalizeText('generic.hccenter') } onCloseClick={ () => setIsVisible(false) } />\n            <Flex position=\"relative\" className=\"bg-muted p-2 hc-logo\">\n                <Column gap={ 1 } justifyContent=\"end\" className=\"px-2\">\n                    <Flex>\n                        <Button variant=\"success\" onClick={ event => CreateLinkEvent('catalog/open/' + GetConfiguration('catalog.links')['hc.buy_hc']) }>\n                            { LocalizeText((clubStatus === ClubStatus.ACTIVE) ? 'hccenter.btn.extend' : 'hccenter.btn.buy') }\n                        </Button>\n                    </Flex>\n                </Column>\n                <Base position=\"absolute\" className=\"end-0 p-4 top-3 habbo-avatar\">\n                    <LayoutAvatarImageView figure={ userFigure } direction={ 4 } scale={ 2 } />\n                </Base>\n            </Flex>\n            <NitroCardContentView>\n                <Flex gap={ 2 }>\n                    <LayoutBadgeImageView badgeCode={ badgeCode } className=\"align-self-center flex-shrink-0 me-1\" />\n                    <Column size={ 5 } className=\"streak-info\" gap={ 0 }>\n                        <Text small>{ LocalizeText('hccenter.status.' + clubStatus) }</Text>\n                        <Text small dangerouslySetInnerHTML={ { __html: getInfoText() } } />\n                    </Column>\n                </Flex>\n                { GetConfiguration('hc.center')['payday.info'] &&\n                    <Flex alignItems=\"center\">\n                        \n                        <Column gap={ 1 } className=\"p-2 payday-special mb-1 ml-1\">\n                            <Text variant=\"white\" bold>{ LocalizeText('hccenter.special.title') }</Text>\n                            <Text variant=\"white\" small>{ LocalizeText('hccenter.special.info') }</Text>\n                            <Text variant=\"white\" small underline className=\"pt-4 cursor-pointer\" onClick={ () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['payday.habbopage']) }>{ LocalizeText('hccenter.special.infolink') }</Text>\n                        </Column>\n                        <Column gap={ 0 } className=\"payday flex-shrink-0 p-2\">\n                            <Text bold className=\"ms-2\">{ LocalizeText('hccenter.special.time.title') }</Text>\n                            <Flex>\n                                <i className=\"clock me-2\" />\n                                <Text className=\"align-self-center\">{ getHcPaydayTime() }</Text>\n                            </Flex>\n                            { clubStatus === ClubStatus.ACTIVE &&\n                                <Column gap={ 1 } className=\"pe-3 pt-3\">\n                                    <Text bold className=\"ms-2\">{ LocalizeText('hccenter.special.amount.title') }</Text>\n                                    <Flex>\n                                        <Text className=\"w-100 text-center ms-4n\">{ getHcPaydayAmount() }</Text>\n                                        <OverlayTrigger trigger={ [ 'hover', 'focus' ] } placement=\"left\" overlay={ popover }>\n                                            <Text underline small variant=\"primary\" className=\"pt-4\">\n                                                { LocalizeText('hccenter.breakdown.infolink') }\n                                            </Text>\n                                        </OverlayTrigger>\n                                    </Flex>\n                                </Column> }\n                        </Column>\n                    </Flex> }\n                { GetConfiguration('hc.center')['gift.info'] &&\n                    <Flex className=\"hc-gift-special p-2\">\n                        <Column gap={ 1 }>\n                            <Text variant=\"white\" bold>{ LocalizeText('hccenter.gift.title') }</Text>\n                            <Text variant=\"white\" dangerouslySetInnerHTML={ { __html: unclaimedGifts > 0 ? LocalizeText('hccenter.unclaimedgifts', [ 'unclaimedgifts' ], [ unclaimedGifts.toString() ]) : LocalizeText('hccenter.gift.info') } }></Text>\n                        </Column>\n                        <Button className=\"btn-lg align-self-center ms-auto\" onClick={ () => CreateLinkEvent('catalog/open/' + GetConfiguration('catalog.links')['hc.hc_gifts']) }>\n                            { LocalizeText(clubStatus === ClubStatus.ACTIVE ? 'hccenter.btn.gifts.redeem' : 'hccenter.btn.gifts.view') }\n                        </Button>\n                    </Flex> }\n                { GetConfiguration('hc.center')['benefits.info'] &&\n                    <Column className=\"benefits py-2\">\n                        <Text bold variant=\"primary\">{ LocalizeText('hccenter.general.title') }</Text>\n                        <Text small dangerouslySetInnerHTML={ { __html: LocalizeText('hccenter.general.info') } } />\n                        <Text small underline className=\"cursor-pointer\" variant=\"primary\" onClick={ () => CreateLinkEvent('habbopages/' + GetConfiguration('hc.center')['benefits.habbopage']) }>\n                            { LocalizeText('hccenter.general.infolink') }\n                        </Text>\n                    </Column> }\n            </NitroCardContentView>\n        </NitroCardView>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}