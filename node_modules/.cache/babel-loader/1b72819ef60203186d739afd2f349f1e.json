{"ast":null,"code":"import { FurnitureAnimatedVisualization } from './FurnitureAnimatedVisualization';\nexport class FurnitureQueueTileVisualization extends FurnitureAnimatedVisualization {\n  constructor() {\n    super();\n    this._stateQueue = void 0;\n    this._animationCounter = void 0;\n    this._stateQueue = [];\n    this._animationCounter = -1;\n  }\n\n  setAnimation(animationId) {\n    if (animationId === FurnitureQueueTileVisualization.ANIMATION_ID_ROLL_ONCE) {\n      this._stateQueue = [];\n\n      this._stateQueue.push(FurnitureQueueTileVisualization.ANIMATION_ID_NORMAL);\n\n      this._animationCounter = FurnitureQueueTileVisualization.ANIMATION_DURATION;\n    }\n\n    return super.setAnimation(animationId);\n  }\n\n  updateAnimation(scale) {\n    if (this._animationCounter > 0) this._animationCounter--;\n\n    if (!this._animationCounter) {\n      if (this._stateQueue.length) super.setAnimation(this._stateQueue.shift());\n    }\n\n    return super.updateAnimation(scale);\n  }\n\n  usesAnimationResetting() {\n    return true;\n  }\n\n}\nFurnitureQueueTileVisualization.ANIMATION_ID_ROLL = 3;\nFurnitureQueueTileVisualization.ANIMATION_ID_ROLL_ONCE = 2;\nFurnitureQueueTileVisualization.ANIMATION_ID_NORMAL = 1;\nFurnitureQueueTileVisualization.ANIMATION_DURATION = 15;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureQueueTileVisualization.ts"],"names":["FurnitureAnimatedVisualization","FurnitureQueueTileVisualization","constructor","_stateQueue","_animationCounter","setAnimation","animationId","ANIMATION_ID_ROLL_ONCE","push","ANIMATION_ID_NORMAL","ANIMATION_DURATION","updateAnimation","scale","length","shift","usesAnimationResetting","ANIMATION_ID_ROLL"],"mappings":"AAAA,SAASA,8BAAT,QAA+C,kCAA/C;AAEA,OAAO,MAAMC,+BAAN,SAA8CD,8BAA9C,CACP;AASIE,EAAAA,WAAW,GACX;AACI;AADJ,SAJQC,WAIR;AAAA,SAHQC,iBAGR;AAGI,SAAKD,WAAL,GAAmB,EAAnB;AACA,SAAKC,iBAAL,GAAyB,CAAC,CAA1B;AACH;;AAESC,EAAAA,YAAY,CAACC,WAAD,EACtB;AACI,QAAGA,WAAW,KAAKL,+BAA+B,CAACM,sBAAnD,EACA;AACI,WAAKJ,WAAL,GAAmB,EAAnB;;AACA,WAAKA,WAAL,CAAiBK,IAAjB,CAAsBP,+BAA+B,CAACQ,mBAAtD;;AAEA,WAAKL,iBAAL,GAAyBH,+BAA+B,CAACS,kBAAzD;AACH;;AAED,WAAO,MAAML,YAAN,CAAmBC,WAAnB,CAAP;AACH;;AAESK,EAAAA,eAAe,CAACC,KAAD,EACzB;AACI,QAAG,KAAKR,iBAAL,GAAyB,CAA5B,EAA+B,KAAKA,iBAAL;;AAE/B,QAAG,CAAC,KAAKA,iBAAT,EACA;AACI,UAAG,KAAKD,WAAL,CAAiBU,MAApB,EAA4B,MAAMR,YAAN,CAAmB,KAAKF,WAAL,CAAiBW,KAAjB,EAAnB;AAC/B;;AAED,WAAO,MAAMH,eAAN,CAAsBC,KAAtB,CAAP;AACH;;AAESG,EAAAA,sBAAsB,GAChC;AACI,WAAO,IAAP;AACH;;AA7CL;AADad,+B,CAEMe,iB,GAA4B,C;AAFlCf,+B,CAGMM,sB,GAAiC,C;AAHvCN,+B,CAIMQ,mB,GAA8B,C;AAJpCR,+B,CAKMS,kB,GAA6B,E","sourcesContent":["import { FurnitureAnimatedVisualization } from './FurnitureAnimatedVisualization';\r\n\r\nexport class FurnitureQueueTileVisualization extends FurnitureAnimatedVisualization\r\n{\r\n    private static ANIMATION_ID_ROLL: number = 3;\r\n    private static ANIMATION_ID_ROLL_ONCE: number = 2;\r\n    private static ANIMATION_ID_NORMAL: number = 1;\r\n    private static ANIMATION_DURATION: number = 15;\r\n\r\n    private _stateQueue: number[];\r\n    private _animationCounter: number;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._stateQueue = [];\r\n        this._animationCounter = -1;\r\n    }\r\n\r\n    protected setAnimation(animationId: number): void\r\n    {\r\n        if(animationId === FurnitureQueueTileVisualization.ANIMATION_ID_ROLL_ONCE)\r\n        {\r\n            this._stateQueue = [];\r\n            this._stateQueue.push(FurnitureQueueTileVisualization.ANIMATION_ID_NORMAL);\r\n\r\n            this._animationCounter = FurnitureQueueTileVisualization.ANIMATION_DURATION;\r\n        }\r\n\r\n        return super.setAnimation(animationId);\r\n    }\r\n\r\n    protected updateAnimation(scale: number): number\r\n    {\r\n        if(this._animationCounter > 0) this._animationCounter--;\r\n\r\n        if(!this._animationCounter)\r\n        {\r\n            if(this._stateQueue.length) super.setAnimation(this._stateQueue.shift());\r\n        }\r\n\r\n        return super.updateAnimation(scale);\r\n    }\r\n\r\n    protected usesAnimationResetting(): boolean\r\n    {\r\n        return true;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}