{"ast":null,"code":"import { FurnitureAnimatedVisualization } from './FurnitureAnimatedVisualization';\nexport class FurnitureHabboWheelVisualization extends FurnitureAnimatedVisualization {\n  constructor() {\n    super();\n    this._stateQueue = void 0;\n    this._running = void 0;\n    this._stateQueue = [];\n    this._running = false;\n  }\n\n  setAnimation(animationId) {\n    if (animationId === -1) {\n      if (!this._running) {\n        this._running = true;\n        this._stateQueue = [];\n\n        this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_START_ROLL);\n\n        this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_ROLL);\n\n        return;\n      }\n    }\n\n    if (animationId > 0 && animationId <= FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1) {\n      if (this._running) {\n        this._running = false;\n        this._stateQueue = [];\n\n        this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1 + animationId);\n\n        this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2 + animationId);\n\n        this._stateQueue.push(animationId);\n\n        return;\n      }\n\n      super.setAnimation(animationId);\n    }\n  }\n\n  updateAnimation(scale) {\n    if (this.getLastFramePlayed(1) && this.getLastFramePlayed(2) && this.getLastFramePlayed(3)) {\n      if (this._stateQueue.length) super.setAnimation(this._stateQueue.shift());\n    }\n\n    return super.updateAnimation(scale);\n  }\n\n}\nFurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1 = 10;\nFurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2 = 20;\nFurnitureHabboWheelVisualization.ANIMATION_ID_START_ROLL = 31;\nFurnitureHabboWheelVisualization.ANIMATION_ID_ROLL = 32;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/visualization/furniture/FurnitureHabboWheelVisualization.ts"],"names":["FurnitureAnimatedVisualization","FurnitureHabboWheelVisualization","constructor","_stateQueue","_running","setAnimation","animationId","push","ANIMATION_ID_START_ROLL","ANIMATION_ID_ROLL","ANIMATION_ID_OFFSET_SLOW1","ANIMATION_ID_OFFSET_SLOW2","updateAnimation","scale","getLastFramePlayed","length","shift"],"mappings":"AAAA,SAASA,8BAAT,QAA+C,kCAA/C;AAEA,OAAO,MAAMC,gCAAN,SAA+CD,8BAA/C,CACP;AASIE,EAAAA,WAAW,GACX;AACI;AADJ,SAJQC,WAIR;AAAA,SAHQC,QAGR;AAGI,SAAKD,WAAL,GAAmB,EAAnB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACH;;AAESC,EAAAA,YAAY,CAACC,WAAD,EACtB;AACI,QAAGA,WAAW,KAAK,CAAC,CAApB,EACA;AACI,UAAG,CAAC,KAAKF,QAAT,EACA;AACI,aAAKA,QAAL,GAAgB,IAAhB;AACA,aAAKD,WAAL,GAAmB,EAAnB;;AAEA,aAAKA,WAAL,CAAiBI,IAAjB,CAAsBN,gCAAgC,CAACO,uBAAvD;;AACA,aAAKL,WAAL,CAAiBI,IAAjB,CAAsBN,gCAAgC,CAACQ,iBAAvD;;AAEA;AACH;AACJ;;AAED,QAAIH,WAAW,GAAG,CAAf,IAAsBA,WAAW,IAAIL,gCAAgC,CAACS,yBAAzE,EACA;AACI,UAAG,KAAKN,QAAR,EACA;AACI,aAAKA,QAAL,GAAgB,KAAhB;AACA,aAAKD,WAAL,GAAmB,EAAnB;;AAEA,aAAKA,WAAL,CAAiBI,IAAjB,CAAsBN,gCAAgC,CAACS,yBAAjC,GAA6DJ,WAAnF;;AACA,aAAKH,WAAL,CAAiBI,IAAjB,CAAsBN,gCAAgC,CAACU,yBAAjC,GAA6DL,WAAnF;;AACA,aAAKH,WAAL,CAAiBI,IAAjB,CAAsBD,WAAtB;;AAEA;AACH;;AAED,YAAMD,YAAN,CAAmBC,WAAnB;AACH;AACJ;;AAESM,EAAAA,eAAe,CAACC,KAAD,EACzB;AACI,QAAG,KAAKC,kBAAL,CAAwB,CAAxB,KAA8B,KAAKA,kBAAL,CAAwB,CAAxB,CAA9B,IAA4D,KAAKA,kBAAL,CAAwB,CAAxB,CAA/D,EACA;AACI,UAAG,KAAKX,WAAL,CAAiBY,MAApB,EAA4B,MAAMV,YAAN,CAAmB,KAAKF,WAAL,CAAiBa,KAAjB,EAAnB;AAC/B;;AAED,WAAO,MAAMJ,eAAN,CAAsBC,KAAtB,CAAP;AACH;;AA3DL;AADaZ,gC,CAEMS,yB,GAAoC,E;AAF1CT,gC,CAGMU,yB,GAAoC,E;AAH1CV,gC,CAIMO,uB,GAAkC,E;AAJxCP,gC,CAKMQ,iB,GAA4B,E","sourcesContent":["import { FurnitureAnimatedVisualization } from './FurnitureAnimatedVisualization';\r\n\r\nexport class FurnitureHabboWheelVisualization extends FurnitureAnimatedVisualization\r\n{\r\n    private static ANIMATION_ID_OFFSET_SLOW1: number = 10;\r\n    private static ANIMATION_ID_OFFSET_SLOW2: number = 20;\r\n    private static ANIMATION_ID_START_ROLL: number = 31;\r\n    private static ANIMATION_ID_ROLL: number = 32;\r\n\r\n    private _stateQueue: number[];\r\n    private _running: boolean;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._stateQueue = [];\r\n        this._running = false;\r\n    }\r\n\r\n    protected setAnimation(animationId: number): void\r\n    {\r\n        if(animationId === -1)\r\n        {\r\n            if(!this._running)\r\n            {\r\n                this._running = true;\r\n                this._stateQueue = [];\r\n\r\n                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_START_ROLL);\r\n                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_ROLL);\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        if((animationId > 0) && (animationId <= FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1))\r\n        {\r\n            if(this._running)\r\n            {\r\n                this._running = false;\r\n                this._stateQueue = [];\r\n\r\n                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1 + animationId);\r\n                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2 + animationId);\r\n                this._stateQueue.push(animationId);\r\n\r\n                return;\r\n            }\r\n\r\n            super.setAnimation(animationId);\r\n        }\r\n    }\r\n\r\n    protected updateAnimation(scale: number): number\r\n    {\r\n        if(this.getLastFramePlayed(1) && this.getLastFramePlayed(2) && this.getLastFramePlayed(3))\r\n        {\r\n            if(this._stateQueue.length) super.setAnimation(this._stateQueue.shift());\r\n        }\r\n\r\n        return super.updateAnimation(scale);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}