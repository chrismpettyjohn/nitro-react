{"ast":null,"code":"import { NitroLogger } from '../../../core/common/logger/NitroLogger';\nimport { Nitro } from '../../Nitro';\nimport { RoomObjectVisualizationType } from './RoomObjectVisualizationType';\nimport { AvatarVisualization } from './visualization/avatar/AvatarVisualization';\nimport { AvatarVisualizationData } from './visualization/avatar/AvatarVisualizationData';\nimport { FurnitureAnimatedVisualization } from './visualization/furniture/FurnitureAnimatedVisualization';\nimport { FurnitureAnimatedVisualizationData } from './visualization/furniture/FurnitureAnimatedVisualizationData';\nimport { FurnitureBadgeDisplayVisualization } from './visualization/furniture/FurnitureBadgeDisplayVisualization';\nimport { FurnitureBBVisualization } from './visualization/furniture/FurnitureBBVisualization';\nimport { FurnitureBottleVisualization } from './visualization/furniture/FurnitureBottleVisualization';\nimport { FurnitureBuilderPlaceholderVisualization } from './visualization/furniture/FurnitureBuilderPlaceholderVisualization';\nimport { FurnitureCounterClockVisualization } from './visualization/furniture/FurnitureCounterClockVisualization';\nimport { FurnitureCuboidVisualization } from './visualization/furniture/FurnitureCuboidVisualization';\nimport { FurnitureExternalImageVisualization } from './visualization/furniture/FurnitureExternalImageVisualization';\nimport { FurnitureFireworksVisualization } from './visualization/furniture/FurnitureFireworksVisualization';\nimport { FurnitureGiftWrappedFireworksVisualization } from './visualization/furniture/FurnitureGiftWrappedFireworksVisualization';\nimport { FurnitureGiftWrappedVisualization } from './visualization/furniture/FurnitureGiftWrappedVisualization';\nimport { FurnitureGuildCustomizedVisualization } from './visualization/furniture/FurnitureGuildCustomizedVisualization';\nimport { FurnitureGuildIsometricBadgeVisualization } from './visualization/furniture/FurnitureGuildIsometricBadgeVisualization';\nimport { FurnitureHabboWheelVisualization } from './visualization/furniture/FurnitureHabboWheelVisualization';\nimport { FurnitureMannequinVisualization } from './visualization/furniture/FurnitureMannequinVisualization';\nimport { FurnitureMannequinVisualizationData } from './visualization/furniture/FurnitureMannequinVisualizationData';\nimport { FurniturePartyBeamerVisualization } from './visualization/furniture/FurniturePartyBeamerVisualization';\nimport { FurniturePlanetSystemVisualization } from './visualization/furniture/FurniturePlanetSystemVisualization';\nimport { FurniturePosterVisualization } from './visualization/furniture/FurniturePosterVisualization';\nimport { FurnitureQueueTileVisualization } from './visualization/furniture/FurnitureQueueTileVisualization';\nimport { FurnitureResettingAnimatedVisualization } from './visualization/furniture/FurnitureResettingAnimatedVisualization';\nimport { FurnitureRoomBackgroundVisualization } from './visualization/furniture/FurnitureRoomBackgroundVisualization';\nimport { FurnitureScoreBoardVisualization } from './visualization/furniture/FurnitureScoreBoardVisualization';\nimport { FurnitureSoundBlockVisualization } from './visualization/furniture/FurnitureSoundBlockVisualization';\nimport { FurnitureStickieVisualization } from './visualization/furniture/FurnitureStickieVisualization';\nimport { FurnitureValRandomizerVisualization } from './visualization/furniture/FurnitureValRandomizerVisualization';\nimport { FurnitureVisualization } from './visualization/furniture/FurnitureVisualization';\nimport { FurnitureVisualizationData } from './visualization/furniture/FurnitureVisualizationData';\nimport { FurnitureVoteCounterVisualization } from './visualization/furniture/FurnitureVoteCounterVisualization';\nimport { FurnitureVoteMajorityVisualization } from './visualization/furniture/FurnitureVoteMajorityVisualization';\nimport { FurnitureWaterAreaVisualization } from './visualization/furniture/FurnitureWaterAreaVisualization';\nimport { FurnitureYoutubeVisualization } from './visualization/furniture/FurnitureYoutubeVisualization';\nimport { PetVisualization } from './visualization/pet/PetVisualization';\nimport { PetVisualizationData } from './visualization/pet/PetVisualizationData';\nimport { RoomVisualization } from './visualization/room/RoomVisualization';\nimport { RoomVisualizationData } from './visualization/room/RoomVisualizationData';\nimport { TileCursorVisualization } from './visualization/room/TileCursorVisualization';\nexport class RoomObjectVisualizationFactory {\n  constructor() {\n    this._visualizationDatas = void 0;\n    this._visualizationDatas = new Map();\n  }\n\n  getVisualization(type) {\n    const visualization = this.getVisualizationType(type);\n    if (!visualization) return null;\n    return new visualization();\n  }\n\n  getVisualizationType(type) {\n    if (!type) return null;\n    let visualization = null;\n\n    switch (type) {\n      case RoomObjectVisualizationType.ROOM:\n        visualization = RoomVisualization;\n        break;\n\n      case RoomObjectVisualizationType.TILE_CURSOR:\n        visualization = TileCursorVisualization;\n        break;\n\n      case RoomObjectVisualizationType.USER:\n      case RoomObjectVisualizationType.BOT:\n      case RoomObjectVisualizationType.RENTABLE_BOT:\n        visualization = AvatarVisualization;\n        break;\n\n      case RoomObjectVisualizationType.PET_ANIMATED:\n        visualization = PetVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_STATIC:\n        visualization = FurnitureVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_ANIMATED:\n        visualization = FurnitureAnimatedVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:\n        visualization = FurnitureResettingAnimatedVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:\n        visualization = FurnitureBadgeDisplayVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_BG:\n        visualization = FurnitureRoomBackgroundVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_BB:\n        visualization = FurnitureBBVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_BOTTLE:\n        visualization = FurnitureBottleVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:\n        visualization = FurnitureBuilderPlaceholderVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:\n        visualization = FurnitureCounterClockVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_CUBOID:\n        visualization = FurnitureCuboidVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:\n        visualization = FurnitureExternalImageVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_FIREWORKS:\n        visualization = FurnitureFireworksVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:\n        visualization = FurnitureGiftWrappedFireworksVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:\n        visualization = FurnitureGiftWrappedVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:\n        visualization = FurnitureGuildCustomizedVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:\n        visualization = FurnitureGuildIsometricBadgeVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:\n        visualization = FurnitureHabboWheelVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:\n        visualization = FurnitureMannequinVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:\n        visualization = FurniturePartyBeamerVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:\n        visualization = FurniturePlanetSystemVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_POSTER:\n        visualization = FurniturePosterVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:\n        visualization = FurnitureQueueTileVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:\n        visualization = FurnitureScoreBoardVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:\n        visualization = FurnitureSoundBlockVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_STICKIE:\n        visualization = FurnitureStickieVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:\n        visualization = FurnitureValRandomizerVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:\n        visualization = FurnitureVoteCounterVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:\n        visualization = FurnitureVoteMajorityVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_WATER_AREA:\n        visualization = FurnitureWaterAreaVisualization;\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_YOUTUBE:\n        visualization = FurnitureYoutubeVisualization;\n        break;\n    }\n\n    if (!visualization) {\n      NitroLogger.log(`Unknown Visualization: ${type}`);\n      return null;\n    }\n\n    return visualization;\n  }\n\n  getVisualizationData(type, visualization, asset) {\n    const existing = this._visualizationDatas.get(type);\n\n    if (existing) return existing;\n    let visualizationData = null;\n\n    switch (visualization) {\n      case RoomObjectVisualizationType.FURNITURE_STATIC:\n      case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:\n      case RoomObjectVisualizationType.FURNITURE_BB:\n      case RoomObjectVisualizationType.FURNITURE_BG:\n      case RoomObjectVisualizationType.FURNITURE_STICKIE:\n      case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:\n        visualizationData = new FurnitureVisualizationData();\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_ANIMATED:\n      case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:\n      case RoomObjectVisualizationType.FURNITURE_POSTER:\n      case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:\n      case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:\n      case RoomObjectVisualizationType.FURNITURE_BOTTLE:\n      case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:\n      case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:\n      case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:\n      case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:\n      case RoomObjectVisualizationType.FURNITURE_WATER_AREA:\n      case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:\n      case RoomObjectVisualizationType.FURNITURE_FIREWORKS:\n      case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:\n      case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:\n      case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:\n      case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:\n      case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:\n      case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:\n      case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:\n      case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:\n      case RoomObjectVisualizationType.FURNITURE_YOUTUBE:\n      case RoomObjectVisualizationType.TILE_CURSOR:\n        visualizationData = new FurnitureAnimatedVisualizationData();\n        break;\n\n      case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:\n        visualizationData = new FurnitureMannequinVisualizationData();\n        break;\n\n      case RoomObjectVisualizationType.ROOM:\n        visualizationData = new RoomVisualizationData();\n        break;\n\n      case RoomObjectVisualizationType.USER:\n      case RoomObjectVisualizationType.BOT:\n      case RoomObjectVisualizationType.RENTABLE_BOT:\n        visualizationData = new AvatarVisualizationData();\n        break;\n\n      case RoomObjectVisualizationType.PET_ANIMATED:\n        visualizationData = new PetVisualizationData();\n        break;\n    }\n\n    if (!visualizationData) return null;\n\n    if (!visualizationData.initialize(asset)) {\n      visualizationData.dispose();\n      return null;\n    }\n\n    if (visualizationData instanceof AvatarVisualizationData || visualizationData instanceof FurnitureMannequinVisualizationData) {\n      visualizationData.avatarManager = Nitro.instance.avatar;\n    }\n\n    if (RoomObjectVisualizationFactory.CACHING_ENABLED) this._visualizationDatas.set(type, visualizationData);\n    return visualizationData;\n  }\n\n}\nRoomObjectVisualizationFactory.CACHING_ENABLED = true;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/RoomObjectVisualizationFactory.ts"],"names":["NitroLogger","Nitro","RoomObjectVisualizationType","AvatarVisualization","AvatarVisualizationData","FurnitureAnimatedVisualization","FurnitureAnimatedVisualizationData","FurnitureBadgeDisplayVisualization","FurnitureBBVisualization","FurnitureBottleVisualization","FurnitureBuilderPlaceholderVisualization","FurnitureCounterClockVisualization","FurnitureCuboidVisualization","FurnitureExternalImageVisualization","FurnitureFireworksVisualization","FurnitureGiftWrappedFireworksVisualization","FurnitureGiftWrappedVisualization","FurnitureGuildCustomizedVisualization","FurnitureGuildIsometricBadgeVisualization","FurnitureHabboWheelVisualization","FurnitureMannequinVisualization","FurnitureMannequinVisualizationData","FurniturePartyBeamerVisualization","FurniturePlanetSystemVisualization","FurniturePosterVisualization","FurnitureQueueTileVisualization","FurnitureResettingAnimatedVisualization","FurnitureRoomBackgroundVisualization","FurnitureScoreBoardVisualization","FurnitureSoundBlockVisualization","FurnitureStickieVisualization","FurnitureValRandomizerVisualization","FurnitureVisualization","FurnitureVisualizationData","FurnitureVoteCounterVisualization","FurnitureVoteMajorityVisualization","FurnitureWaterAreaVisualization","FurnitureYoutubeVisualization","PetVisualization","PetVisualizationData","RoomVisualization","RoomVisualizationData","TileCursorVisualization","RoomObjectVisualizationFactory","constructor","_visualizationDatas","Map","getVisualization","type","visualization","getVisualizationType","ROOM","TILE_CURSOR","USER","BOT","RENTABLE_BOT","PET_ANIMATED","FURNITURE_STATIC","FURNITURE_ANIMATED","FURNITURE_RESETTING_ANIMATED","FURNITURE_BADGE_DISPLAY","FURNITURE_BG","FURNITURE_BB","FURNITURE_BOTTLE","FURNITURE_BUILDER_PLACEHOLDER","FURNITURE_COUNTER_CLOCK","FURNITURE_CUBOID","FURNITURE_EXTERNAL_IMAGE","FURNITURE_FIREWORKS","FURNITURE_GIFT_WRAPPED_FIREWORKS","FURNITURE_GIFT_WRAPPED","FURNITURE_GUILD_CUSTOMIZED","FURNITURE_GUILD_ISOMETRIC_BADGE","FURNITURE_HABBOWHEEL","FURNITURE_MANNEQUIN","FURNITURE_PARTY_BEAMER","FURNITURE_PLANET_SYSTEM","FURNITURE_POSTER","FURNITURE_QUEUE_TILE","FURNITURE_SCORE_BOARD","FURNITURE_SOUNDBLOCK","FURNITURE_STICKIE","FURNITURE_VAL_RANDOMIZER","FURNITURE_VOTE_COUNTER","FURNITURE_VOTE_MAJORITY","FURNITURE_WATER_AREA","FURNITURE_YOUTUBE","log","getVisualizationData","asset","existing","get","visualizationData","initialize","dispose","avatarManager","instance","avatar","CACHING_ENABLED","set"],"mappings":"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","sourcesContent":["import { IAssetData } from '../../../core/asset/interfaces';\r\nimport { NitroLogger } from '../../../core/common/logger/NitroLogger';\r\nimport { IRoomObjectGraphicVisualization } from '../../../room/object/visualization/IRoomObjectGraphicVisualization';\r\nimport { IObjectVisualizationData } from '../../../room/object/visualization/IRoomObjectVisualizationData';\r\nimport { IRoomObjectVisualizationFactory } from '../../../room/object/visualization/IRoomObjectVisualizationFactory';\r\nimport { RoomObjectSpriteVisualization } from '../../../room/object/visualization/RoomObjectSpriteVisualization';\r\nimport { Nitro } from '../../Nitro';\r\nimport { RoomObjectVisualizationType } from './RoomObjectVisualizationType';\r\nimport { AvatarVisualization } from './visualization/avatar/AvatarVisualization';\r\nimport { AvatarVisualizationData } from './visualization/avatar/AvatarVisualizationData';\r\nimport { FurnitureAnimatedVisualization } from './visualization/furniture/FurnitureAnimatedVisualization';\r\nimport { FurnitureAnimatedVisualizationData } from './visualization/furniture/FurnitureAnimatedVisualizationData';\r\nimport { FurnitureBadgeDisplayVisualization } from './visualization/furniture/FurnitureBadgeDisplayVisualization';\r\nimport { FurnitureBBVisualization } from './visualization/furniture/FurnitureBBVisualization';\r\nimport { FurnitureBottleVisualization } from './visualization/furniture/FurnitureBottleVisualization';\r\nimport { FurnitureBuilderPlaceholderVisualization } from './visualization/furniture/FurnitureBuilderPlaceholderVisualization';\r\nimport { FurnitureCounterClockVisualization } from './visualization/furniture/FurnitureCounterClockVisualization';\r\nimport { FurnitureCuboidVisualization } from './visualization/furniture/FurnitureCuboidVisualization';\r\nimport { FurnitureExternalImageVisualization } from './visualization/furniture/FurnitureExternalImageVisualization';\r\nimport { FurnitureFireworksVisualization } from './visualization/furniture/FurnitureFireworksVisualization';\r\nimport { FurnitureGiftWrappedFireworksVisualization } from './visualization/furniture/FurnitureGiftWrappedFireworksVisualization';\r\nimport { FurnitureGiftWrappedVisualization } from './visualization/furniture/FurnitureGiftWrappedVisualization';\r\nimport { FurnitureGuildCustomizedVisualization } from './visualization/furniture/FurnitureGuildCustomizedVisualization';\r\nimport { FurnitureGuildIsometricBadgeVisualization } from './visualization/furniture/FurnitureGuildIsometricBadgeVisualization';\r\nimport { FurnitureHabboWheelVisualization } from './visualization/furniture/FurnitureHabboWheelVisualization';\r\nimport { FurnitureMannequinVisualization } from './visualization/furniture/FurnitureMannequinVisualization';\r\nimport { FurnitureMannequinVisualizationData } from './visualization/furniture/FurnitureMannequinVisualizationData';\r\nimport { FurniturePartyBeamerVisualization } from './visualization/furniture/FurniturePartyBeamerVisualization';\r\nimport { FurniturePlanetSystemVisualization } from './visualization/furniture/FurniturePlanetSystemVisualization';\r\nimport { FurniturePosterVisualization } from './visualization/furniture/FurniturePosterVisualization';\r\nimport { FurnitureQueueTileVisualization } from './visualization/furniture/FurnitureQueueTileVisualization';\r\nimport { FurnitureResettingAnimatedVisualization } from './visualization/furniture/FurnitureResettingAnimatedVisualization';\r\nimport { FurnitureRoomBackgroundVisualization } from './visualization/furniture/FurnitureRoomBackgroundVisualization';\r\nimport { FurnitureScoreBoardVisualization } from './visualization/furniture/FurnitureScoreBoardVisualization';\r\nimport { FurnitureSoundBlockVisualization } from './visualization/furniture/FurnitureSoundBlockVisualization';\r\nimport { FurnitureStickieVisualization } from './visualization/furniture/FurnitureStickieVisualization';\r\nimport { FurnitureValRandomizerVisualization } from './visualization/furniture/FurnitureValRandomizerVisualization';\r\nimport { FurnitureVisualization } from './visualization/furniture/FurnitureVisualization';\r\nimport { FurnitureVisualizationData } from './visualization/furniture/FurnitureVisualizationData';\r\nimport { FurnitureVoteCounterVisualization } from './visualization/furniture/FurnitureVoteCounterVisualization';\r\nimport { FurnitureVoteMajorityVisualization } from './visualization/furniture/FurnitureVoteMajorityVisualization';\r\nimport { FurnitureWaterAreaVisualization } from './visualization/furniture/FurnitureWaterAreaVisualization';\r\nimport { FurnitureYoutubeVisualization } from './visualization/furniture/FurnitureYoutubeVisualization';\r\nimport { PetVisualization } from './visualization/pet/PetVisualization';\r\nimport { PetVisualizationData } from './visualization/pet/PetVisualizationData';\r\nimport { RoomVisualization } from './visualization/room/RoomVisualization';\r\nimport { RoomVisualizationData } from './visualization/room/RoomVisualizationData';\r\nimport { TileCursorVisualization } from './visualization/room/TileCursorVisualization';\r\n\r\nexport class RoomObjectVisualizationFactory implements IRoomObjectVisualizationFactory\r\n{\r\n    private static CACHING_ENABLED: boolean = true;\r\n\r\n    private _visualizationDatas: Map<string, IObjectVisualizationData>;\r\n\r\n    constructor()\r\n    {\r\n        this._visualizationDatas = new Map();\r\n    }\r\n\r\n    public getVisualization(type: string): IRoomObjectGraphicVisualization\r\n    {\r\n        const visualization = this.getVisualizationType(type);\r\n\r\n        if(!visualization) return null;\r\n\r\n        return new visualization();\r\n    }\r\n\r\n    public getVisualizationType(type: string): typeof RoomObjectSpriteVisualization\r\n    {\r\n        if(!type) return null;\r\n\r\n        let visualization: typeof RoomObjectSpriteVisualization = null;\r\n\r\n        switch(type)\r\n        {\r\n            case RoomObjectVisualizationType.ROOM:\r\n                visualization = RoomVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.TILE_CURSOR:\r\n                visualization = TileCursorVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.USER:\r\n            case RoomObjectVisualizationType.BOT:\r\n            case RoomObjectVisualizationType.RENTABLE_BOT:\r\n                visualization = AvatarVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.PET_ANIMATED:\r\n                visualization = PetVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_STATIC:\r\n                visualization = FurnitureVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_ANIMATED:\r\n                visualization = FurnitureAnimatedVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:\r\n                visualization = FurnitureResettingAnimatedVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:\r\n                visualization = FurnitureBadgeDisplayVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_BG:\r\n                visualization = FurnitureRoomBackgroundVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_BB:\r\n                visualization = FurnitureBBVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_BOTTLE:\r\n                visualization = FurnitureBottleVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:\r\n                visualization = FurnitureBuilderPlaceholderVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:\r\n                visualization = FurnitureCounterClockVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_CUBOID:\r\n                visualization = FurnitureCuboidVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:\r\n                visualization = FurnitureExternalImageVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_FIREWORKS:\r\n                visualization = FurnitureFireworksVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:\r\n                visualization = FurnitureGiftWrappedFireworksVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:\r\n                visualization = FurnitureGiftWrappedVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:\r\n                visualization = FurnitureGuildCustomizedVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:\r\n                visualization = FurnitureGuildIsometricBadgeVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:\r\n                visualization = FurnitureHabboWheelVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:\r\n                visualization = FurnitureMannequinVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:\r\n                visualization = FurniturePartyBeamerVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:\r\n                visualization = FurniturePlanetSystemVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_POSTER:\r\n                visualization = FurniturePosterVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:\r\n                visualization = FurnitureQueueTileVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:\r\n                visualization = FurnitureScoreBoardVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:\r\n                visualization = FurnitureSoundBlockVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_STICKIE:\r\n                visualization = FurnitureStickieVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:\r\n                visualization = FurnitureValRandomizerVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:\r\n                visualization = FurnitureVoteCounterVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:\r\n                visualization = FurnitureVoteMajorityVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_WATER_AREA:\r\n                visualization = FurnitureWaterAreaVisualization;\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_YOUTUBE:\r\n                visualization = FurnitureYoutubeVisualization;\r\n                break;\r\n        }\r\n\r\n        if(!visualization)\r\n        {\r\n            NitroLogger.log(`Unknown Visualization: ${ type }`);\r\n\r\n            return null;\r\n        }\r\n\r\n        return visualization;\r\n    }\r\n\r\n    public getVisualizationData(type: string, visualization: string, asset: IAssetData): IObjectVisualizationData\r\n    {\r\n        const existing = this._visualizationDatas.get(type);\r\n\r\n        if(existing) return existing;\r\n\r\n        let visualizationData: IObjectVisualizationData = null;\r\n\r\n        switch(visualization)\r\n        {\r\n            case RoomObjectVisualizationType.FURNITURE_STATIC:\r\n            case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:\r\n            case RoomObjectVisualizationType.FURNITURE_BB:\r\n            case RoomObjectVisualizationType.FURNITURE_BG:\r\n            case RoomObjectVisualizationType.FURNITURE_STICKIE:\r\n            case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:\r\n                visualizationData = new FurnitureVisualizationData();\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_ANIMATED:\r\n            case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:\r\n            case RoomObjectVisualizationType.FURNITURE_POSTER:\r\n            case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:\r\n            case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:\r\n            case RoomObjectVisualizationType.FURNITURE_BOTTLE:\r\n            case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:\r\n            case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:\r\n            case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:\r\n            case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:\r\n            case RoomObjectVisualizationType.FURNITURE_WATER_AREA:\r\n            case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:\r\n            case RoomObjectVisualizationType.FURNITURE_FIREWORKS:\r\n            case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:\r\n            case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:\r\n            case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:\r\n            case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:\r\n            case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:\r\n            case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:\r\n            case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:\r\n            case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:\r\n            case RoomObjectVisualizationType.FURNITURE_YOUTUBE:\r\n            case RoomObjectVisualizationType.TILE_CURSOR:\r\n                visualizationData = new FurnitureAnimatedVisualizationData();\r\n                break;\r\n            case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:\r\n                visualizationData = new FurnitureMannequinVisualizationData();\r\n                break;\r\n            case RoomObjectVisualizationType.ROOM:\r\n                visualizationData = new RoomVisualizationData();\r\n                break;\r\n            case RoomObjectVisualizationType.USER:\r\n            case RoomObjectVisualizationType.BOT:\r\n            case RoomObjectVisualizationType.RENTABLE_BOT:\r\n                visualizationData = new AvatarVisualizationData();\r\n                break;\r\n            case RoomObjectVisualizationType.PET_ANIMATED:\r\n                visualizationData = new PetVisualizationData();\r\n                break;\r\n        }\r\n\r\n        if(!visualizationData) return null;\r\n\r\n        if(!visualizationData.initialize(asset))\r\n        {\r\n            visualizationData.dispose();\r\n\r\n            return null;\r\n        }\r\n\r\n        if((visualizationData instanceof AvatarVisualizationData) || (visualizationData instanceof FurnitureMannequinVisualizationData))\r\n        {\r\n            visualizationData.avatarManager = Nitro.instance.avatar;\r\n        }\r\n\r\n        if(RoomObjectVisualizationFactory.CACHING_ENABLED) this._visualizationDatas.set(type, visualizationData);\r\n\r\n        return visualizationData;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}