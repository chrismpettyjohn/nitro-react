{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/components/hotel-view/views/widgets/promo-article/PromoArticleWidgetView.tsx\",\n    _s = $RefreshSig$();\n\nimport { GetPromoArticlesComposer, PromoArticlesMessageEvent } from '@nitrots/nitro-renderer';\nimport { useCallback, useEffect, useState } from 'react';\nimport { LocalizeText, NotificationUtilities, SendMessageComposer } from '../../../../../api';\nimport { UseMessageEventHook } from '../../../../../hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PromoArticleWidgetView = props => {\n  _s();\n\n  const [articles, setArticles] = useState(null);\n  const [index, setIndex] = useState(0);\n  const onPromoArticlesMessageEvent = useCallback(event => {\n    const parser = event.getParser();\n    setArticles(parser.articles);\n  }, []);\n  UseMessageEventHook(PromoArticlesMessageEvent, onPromoArticlesMessageEvent);\n  useEffect(() => {\n    SendMessageComposer(new GetPromoArticlesComposer());\n  }, []);\n  if (!articles) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"promo-articles widget mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row align-items-center w-100 mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"flex-shrink-0 pe-1\",\n        children: LocalizeText('landing.view.promo.article.header')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"w-100 my-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row mb-1\",\n      children: articles && articles.length > 0 && articles.map((article, ind) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'promo-articles-bullet cursor-pointer ' + (article === articles[index] ? 'promo-articles-bullet-active' : ''),\n        onClick: event => setIndex(ind)\n      }, article.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), articles && articles[index] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"promo-article d-flex flex-row row mx-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"promo-article-image\",\n        style: {\n          backgroundImage: `url(${articles[index].imageUrl})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3 d-flex flex-column h-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"my-0\",\n          children: articles[index].title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: articles[index].bodyText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm mt-auto btn-gainsboro\",\n          onClick: event => NotificationUtilities.openUrl(articles[index].linkContent),\n          children: articles[index].buttonText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PromoArticleWidgetView, \"0WiRKZba5kS3+fuSKqzRMkRNhA4=\");\n\n_c = PromoArticleWidgetView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PromoArticleWidgetView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/components/hotel-view/views/widgets/promo-article/PromoArticleWidgetView.tsx"],"names":["GetPromoArticlesComposer","PromoArticlesMessageEvent","useCallback","useEffect","useState","LocalizeText","NotificationUtilities","SendMessageComposer","UseMessageEventHook","PromoArticleWidgetView","props","articles","setArticles","index","setIndex","onPromoArticlesMessageEvent","event","parser","getParser","length","map","article","ind","id","backgroundImage","imageUrl","title","bodyText","openUrl","linkContent","buttonText"],"mappings":"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","sourcesContent":["import { GetPromoArticlesComposer, PromoArticleData, PromoArticlesMessageEvent } from '@nitrots/nitro-renderer';\nimport { FC, useCallback, useEffect, useState } from 'react';\nimport { LocalizeText, NotificationUtilities, SendMessageComposer } from '../../../../../api';\nimport { UseMessageEventHook } from '../../../../../hooks';\n\nexport const PromoArticleWidgetView: FC<{}> = props =>\n{\n    const [ articles, setArticles ] = useState<PromoArticleData[]>(null);\n    const [ index, setIndex ] = useState(0);\n\n    const onPromoArticlesMessageEvent = useCallback((event: PromoArticlesMessageEvent) =>\n    {\n        const parser = event.getParser();\n        setArticles(parser.articles);\n    }, []);\n\n    UseMessageEventHook(PromoArticlesMessageEvent, onPromoArticlesMessageEvent);\n\n    useEffect(() =>\n    {\n        SendMessageComposer(new GetPromoArticlesComposer());\n    }, []);\n\n    if(!articles) return null;\n\n    return (\n        <div className=\"promo-articles widget mb-2\">\n            <div className=\"d-flex flex-row align-items-center w-100 mb-1\">\n                <small className=\"flex-shrink-0 pe-1\">{ LocalizeText('landing.view.promo.article.header') }</small>\n                <hr className=\"w-100 my-0\"/>\n            </div>\n            <div className=\"d-flex flex-row mb-1\">\n                { articles && (articles.length > 0) && articles.map((article, ind) =>\n                    <div className={ 'promo-articles-bullet cursor-pointer ' + (article === articles[index] ? 'promo-articles-bullet-active' : '') } key={ article.id } onClick={ event => setIndex(ind) } />\n                ) }\n            </div>\n            { articles && articles[index] &&\n                <div className=\"promo-article d-flex flex-row row mx-0\">\n                    <div className=\"promo-article-image\" style={ { backgroundImage: `url(${ articles[index].imageUrl })` } }/>\n                    <div className=\"col-3 d-flex flex-column h-100\">\n                        <h3 className=\"my-0\">{ articles[index].title }</h3>\n                        <b>{ articles[index].bodyText }</b>\n                        <button className=\"btn btn-sm mt-auto btn-gainsboro\" onClick={ event => NotificationUtilities.openUrl(articles[index].linkContent) }>{ articles[index].buttonText }</button>\n                    </div>\n                </div> }\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}