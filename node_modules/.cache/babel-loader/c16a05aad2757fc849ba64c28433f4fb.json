{"ast":null,"code":"import { RoomObjectVariable } from '../../RoomObjectVariable';\nimport { ObjectDataBase } from '../ObjectDataBase';\nimport { ObjectDataKey } from '../ObjectDataKey';\nexport class VoteDataType extends ObjectDataBase {\n  constructor() {\n    super();\n    this._state = void 0;\n    this._result = void 0;\n    this._state = '';\n    this._result = 0;\n  }\n\n  parseWrapper(wrapper) {\n    if (!wrapper) return;\n    this._state = wrapper.readString();\n    this._result = wrapper.readInt();\n    super.parseWrapper(wrapper);\n  }\n\n  writeRoomObjectModel(model) {\n    super.writeRoomObjectModel(model);\n    model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, VoteDataType.FORMAT_KEY);\n    const data = {};\n    data['S'] = this._state;\n    data['R'] = this._result.toString();\n    model.setValue(RoomObjectVariable.FURNITURE_DATA, data);\n  }\n\n  getLegacyString() {\n    return this._state;\n  }\n\n  compare(data) {\n    return true;\n  }\n\n  setString(state) {\n    this._state = state;\n  }\n\n  get result() {\n    return this._result;\n  }\n\n}\nVoteDataType.FORMAT_KEY = ObjectDataKey.VOTE_KEY;","map":{"version":3,"sources":["/var/www/game.bobba.ca/node_modules/@nitrots/nitro-renderer/src/nitro/room/object/data/type/VoteDataType.ts"],"names":["RoomObjectVariable","ObjectDataBase","ObjectDataKey","VoteDataType","constructor","_state","_result","parseWrapper","wrapper","readString","readInt","writeRoomObjectModel","model","setValue","FURNITURE_DATA_FORMAT","FORMAT_KEY","data","toString","FURNITURE_DATA","getLegacyString","compare","setString","state","result","VOTE_KEY"],"mappings":"AAEA,SAASA,kBAAT,QAAmC,0BAAnC;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAO,MAAMC,YAAN,SAA2BF,cAA3B,CACP;AAMIG,EAAAA,WAAW,GACX;AACI;AADJ,SAJQC,MAIR;AAAA,SAHQC,OAGR;AAGI,SAAKD,MAAL,GAAc,EAAd;AACA,SAAKC,OAAL,GAAe,CAAf;AACH;;AAEMC,EAAAA,YAAY,CAACC,OAAD,EACnB;AACI,QAAG,CAACA,OAAJ,EAAa;AAEb,SAAKH,MAAL,GAAcG,OAAO,CAACC,UAAR,EAAd;AACA,SAAKH,OAAL,GAAeE,OAAO,CAACE,OAAR,EAAf;AAEA,UAAMH,YAAN,CAAmBC,OAAnB;AACH;;AAEMG,EAAAA,oBAAoB,CAACC,KAAD,EAC3B;AACI,UAAMD,oBAAN,CAA2BC,KAA3B;AAEAA,IAAAA,KAAK,CAACC,QAAN,CAAeb,kBAAkB,CAACc,qBAAlC,EAAyDX,YAAY,CAACY,UAAtE;AAEA,UAAMC,IAAiC,GAAG,EAA1C;AAEAA,IAAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,KAAKX,MAAjB;AACAW,IAAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,KAAKV,OAAL,CAAaW,QAAb,EAAZ;AAEAL,IAAAA,KAAK,CAACC,QAAN,CAAeb,kBAAkB,CAACkB,cAAlC,EAAkDF,IAAlD;AACH;;AAEMG,EAAAA,eAAe,GACtB;AACI,WAAO,KAAKd,MAAZ;AACH;;AAEMe,EAAAA,OAAO,CAACJ,IAAD,EACd;AACI,WAAO,IAAP;AACH;;AAEMK,EAAAA,SAAS,CAACC,KAAD,EAChB;AACI,SAAKjB,MAAL,GAAciB,KAAd;AACH;;AAEgB,MAANC,MAAM,GACjB;AACI,WAAO,KAAKjB,OAAZ;AACH;;AAxDL;AADaH,Y,CAEKY,U,GAAab,aAAa,CAACsB,Q","sourcesContent":["import { IMessageDataWrapper } from '../../../../../core/communication/messages/IMessageDataWrapper';\r\nimport { IRoomObjectModel } from '../../../../../room/object/IRoomObjectModel';\r\nimport { RoomObjectVariable } from '../../RoomObjectVariable';\r\nimport { IObjectData } from '../IObjectData';\r\nimport { ObjectDataBase } from '../ObjectDataBase';\r\nimport { ObjectDataKey } from '../ObjectDataKey';\r\n\r\nexport class VoteDataType extends ObjectDataBase\r\n{\r\n    public static FORMAT_KEY = ObjectDataKey.VOTE_KEY;\r\n\r\n    private _state: string;\r\n    private _result: number;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this._state = '';\r\n        this._result = 0;\r\n    }\r\n\r\n    public parseWrapper(wrapper: IMessageDataWrapper): void\r\n    {\r\n        if(!wrapper) return;\r\n\r\n        this._state = wrapper.readString();\r\n        this._result = wrapper.readInt();\r\n\r\n        super.parseWrapper(wrapper);\r\n    }\r\n\r\n    public writeRoomObjectModel(model: IRoomObjectModel): void\r\n    {\r\n        super.writeRoomObjectModel(model);\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT, VoteDataType.FORMAT_KEY);\r\n\r\n        const data: { [index: string]: string } = {};\r\n\r\n        data['S'] = this._state;\r\n        data['R'] = this._result.toString();\r\n\r\n        model.setValue(RoomObjectVariable.FURNITURE_DATA, data);\r\n    }\r\n\r\n    public getLegacyString(): string\r\n    {\r\n        return this._state;\r\n    }\r\n\r\n    public compare(data: IObjectData): boolean\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public setString(state: string): void\r\n    {\r\n        this._state = state;\r\n    }\r\n\r\n    public get result(): number\r\n    {\r\n        return this._result;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}