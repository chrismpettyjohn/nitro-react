{"ast":null,"code":"var _jsxFileName = \"/var/www/game.bobba.ca/src/components/navigator/views/NavigatorRoomCreatorView.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-template-curly-in-string */\nimport { HabboClubLevelEnum, RoomCreateComposer } from '@nitrots/nitro-renderer';\nimport { useEffect, useState } from 'react';\nimport { CreateLinkEvent, GetClubMemberLevel, GetConfiguration, LocalizeText, SendMessageComposer } from '../../../api';\nimport { AutoGrid, Button, Column, Flex, Grid, LayoutCurrencyIcon, NitroCardContentView, NitroCardHeaderView, NitroCardView, Text } from '../../../common';\nimport { RoomCreatorGridItem } from '../../../common/layout/RoomCreatorGridItem';\nimport { useNavigatorContext } from '../NavigatorContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const NavigatorRoomCreatorView = props => {\n  _s();\n\n  const [maxVisitorsList, setMaxVisitorsList] = useState(null);\n  const [name, setName] = useState(null);\n  const [description, setDescription] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [visitorsCount, setVisitorsCount] = useState(null);\n  const [tradesSetting, setTradesSetting] = useState(0);\n  const [roomModels, setRoomModels] = useState([]);\n  const [selectedModelName, setSelectedModelName] = useState('');\n  const {\n    categories = null\n  } = useNavigatorContext();\n  const hcDisabled = GetConfiguration('hc.disabled', false);\n\n  const getRoomModelImage = name => GetConfiguration('images.url') + `/navigator/models/model_${name}.png`;\n\n  const selectModel = (model, index) => {\n    if (!model || model.clubLevel > GetClubMemberLevel()) return;\n    setSelectedModelName(roomModels[index].name);\n  };\n\n  const createRoom = () => {\n    SendMessageComposer(new RoomCreateComposer(name, description, 'model_' + selectedModelName, Number(category), Number(visitorsCount), tradesSetting));\n  };\n\n  useEffect(() => {\n    if (!maxVisitorsList) {\n      const list = [];\n\n      for (let i = 10; i <= 100; i = i + 10) list.push(i);\n\n      setMaxVisitorsList(list);\n      setVisitorsCount(list[0]);\n    }\n  }, [maxVisitorsList]);\n  useEffect(() => {\n    if (categories && categories.length) setCategory(categories[0].id);\n  }, [categories]);\n  useEffect(() => {\n    const models = GetConfiguration('navigator.room.models');\n\n    if (models && models.length) {\n      setRoomModels(models);\n      setSelectedModelName(models[0].name);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(NitroCardView, {\n    className: \"nitro-room-creator\",\n    theme: \"primary\",\n    children: [/*#__PURE__*/_jsxDEV(NitroCardHeaderView, {\n      headerText: LocalizeText('navigator.createroom.title'),\n      onCloseClick: event => CreateLinkEvent('navigator/close-creator')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NitroCardContentView, {\n      children: /*#__PURE__*/_jsxDEV(Column, {\n        overflow: \"hidden\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          overflow: \"hidden\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            size: 5,\n            gap: 1,\n            overflow: \"auto\",\n            className: \"px-2 py-1\",\n            children: [/*#__PURE__*/_jsxDEV(Column, {\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                gfbold: true,\n                children: LocalizeText('navigator.createroom.roomnameinfo')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"room-creator-form\",\n                maxLength: 60,\n                onChange: event => setName(event.target.value),\n                placeholder: LocalizeText('navigator.createroom.roomnameinfo')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Column, {\n              grow: true,\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                gfbold: true,\n                children: LocalizeText('navigator.createroom.roomdescinfo')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"flex-grow-1 room-creator-form\",\n                maxLength: 255,\n                onChange: event => setDescription(event.target.value),\n                placeholder: LocalizeText('navigator.createroom.roomdescinfo')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Column, {\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                gfbold: true,\n                children: LocalizeText('navigator.category')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select form-select-sm\",\n                onChange: event => setCategory(Number(event.target.value)),\n                children: categories && categories.length > 0 && categories.map(category => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: category.id,\n                    children: LocalizeText(category.name)\n                  }, category.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 48\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Column, {\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                gfbold: true,\n                children: LocalizeText('navigator.maxvisitors')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select form-select-sm\",\n                onChange: event => setVisitorsCount(Number(event.target.value)),\n                children: maxVisitorsList && maxVisitorsList.map(value => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: value,\n                    children: value\n                  }, value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 48\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Column, {\n              gap: 1,\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                gfbold: true,\n                children: LocalizeText('navigator.tradesettings')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select form-select-sm\",\n                onChange: event => setTradesSetting(Number(event.target.value)),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0\",\n                  children: LocalizeText('navigator.roomsettings.trade_not_allowed')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: LocalizeText('navigator.roomsettings.trade_not_with_Controller')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2\",\n                  children: LocalizeText('navigator.roomsettings.trade_allowed')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              gap: 2,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                fullWidth: true,\n                className: \"volter-bold-button\",\n                onClick: createRoom,\n                disabled: !name || name.length < 3,\n                children: LocalizeText('navigator.createroom.create')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                fullWidth: true,\n                className: \"volter-button\",\n                onClick: event => CreateLinkEvent('navigator/close-creator'),\n                children: LocalizeText('cancel')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            size: 7,\n            gap: 1,\n            overflow: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(AutoGrid, {\n              className: \"room-creator-grid\",\n              columnCount: 2,\n              columnMinWidth: 100,\n              columnMinHeight: 50,\n              overflow: \"unset\",\n              children: roomModels.map((model, index) => {\n                return /*#__PURE__*/_jsxDEV(RoomCreatorGridItem, {\n                  fullHeight: true,\n                  onClick: () => selectModel(model, index),\n                  itemActive: selectedModelName === model.name,\n                  overflow: \"unset\",\n                  gap: 0,\n                  className: \"py-3\",\n                  disabled: GetClubMemberLevel() < model.clubLevel,\n                  children: [/*#__PURE__*/_jsxDEV(Flex, {\n                    fullHeight: true,\n                    center: true,\n                    overflow: \"hidden\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      alt: \"\",\n                      src: getRoomModelImage(model.name)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    position: \"absolute\",\n                    className: \"bottom-1 start-1\",\n                    children: [model.tileSize, \" \", LocalizeText('navigator.createroom.tilesize')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 45\n                  }, this), !hcDisabled && model.clubLevel > HabboClubLevelEnum.NO_CLUB && /*#__PURE__*/_jsxDEV(LayoutCurrencyIcon, {\n                    position: \"absolute\",\n                    className: \"top-1 end-1\",\n                    type: \"hc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 110\n                  }, this), selectedModelName && /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"active-arrow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 68\n                  }, this)]\n                }, model.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 49\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NavigatorRoomCreatorView, \"m6BoJcekMBr1lQ2QFQCJN5XDjQY=\", false, function () {\n  return [useNavigatorContext];\n});\n\n_c = NavigatorRoomCreatorView;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavigatorRoomCreatorView\");","map":{"version":3,"sources":["/var/www/game.bobba.ca/src/components/navigator/views/NavigatorRoomCreatorView.tsx"],"names":["HabboClubLevelEnum","RoomCreateComposer","useEffect","useState","CreateLinkEvent","GetClubMemberLevel","GetConfiguration","LocalizeText","SendMessageComposer","AutoGrid","Button","Column","Flex","Grid","LayoutCurrencyIcon","NitroCardContentView","NitroCardHeaderView","NitroCardView","Text","RoomCreatorGridItem","useNavigatorContext","NavigatorRoomCreatorView","props","maxVisitorsList","setMaxVisitorsList","name","setName","description","setDescription","category","setCategory","visitorsCount","setVisitorsCount","tradesSetting","setTradesSetting","roomModels","setRoomModels","selectedModelName","setSelectedModelName","categories","hcDisabled","getRoomModelImage","selectModel","model","index","clubLevel","createRoom","Number","list","i","push","length","id","models","event","target","value","map","tileSize","NO_CLUB"],"mappings":"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","sourcesContent":["/* eslint-disable no-template-curly-in-string */\nimport { HabboClubLevelEnum, RoomCreateComposer } from '@nitrots/nitro-renderer';\nimport { FC, useEffect, useState } from 'react';\nimport { CreateLinkEvent, GetClubMemberLevel, GetConfiguration, IRoomModel, LocalizeText, SendMessageComposer } from '../../../api';\nimport { AutoGrid, Button, Column, Flex, Grid, LayoutCurrencyIcon, LayoutGridItem, NitroCardContentView, NitroCardHeaderView, NitroCardView, Text } from '../../../common';\nimport { RoomCreatorGridItem } from '../../../common/layout/RoomCreatorGridItem';\nimport { useNavigatorContext } from '../NavigatorContext';\n\nexport const NavigatorRoomCreatorView: FC<{}> = props =>\n{\n    const [ maxVisitorsList, setMaxVisitorsList ] = useState<number[]>(null);\n    const [ name, setName ] = useState<string>(null);\n    const [ description, setDescription ] = useState<string>(null);\n    const [ category, setCategory ] = useState<number>(null);\n    const [ visitorsCount, setVisitorsCount ] = useState<number>(null);\n    const [ tradesSetting, setTradesSetting ] = useState<number>(0);\n    const [ roomModels, setRoomModels ] = useState<IRoomModel[]>([]);\n    const [ selectedModelName, setSelectedModelName ] = useState<string>('');\n    const { categories = null } = useNavigatorContext();\n\n    const hcDisabled = GetConfiguration<boolean>('hc.disabled', false);\n\n    const getRoomModelImage = (name: string) => GetConfiguration<string>('images.url') + `/navigator/models/model_${ name }.png`;\n\n    const selectModel = (model: IRoomModel, index: number) =>\n    {\n        if(!model || (model.clubLevel > GetClubMemberLevel())) return;\n\n        setSelectedModelName(roomModels[index].name);\n    };\n\n    const createRoom = () =>\n    {\n        SendMessageComposer(new RoomCreateComposer(name, description, 'model_' + selectedModelName, Number(category), Number(visitorsCount), tradesSetting));\n    };\n\n    useEffect(() =>\n    {\n        if(!maxVisitorsList)\n        {\n            const list = [];\n\n            for(let i = 10; i <= 100; i = i + 10) list.push(i);\n\n            setMaxVisitorsList(list);\n            setVisitorsCount(list[0]);\n        }\n    }, [ maxVisitorsList ]);\n\n    useEffect(() =>\n    {\n        if(categories && categories.length) setCategory(categories[0].id);\n    }, [ categories ]);\n\n    useEffect(() =>\n    {\n        const models = GetConfiguration<IRoomModel[]>('navigator.room.models');\n        \n        if(models && models.length)\n        {\n            setRoomModels(models);\n            setSelectedModelName(models[0].name);\n        }\n    }, []);\n\n    return (\n        <NitroCardView className=\"nitro-room-creator\" theme=\"primary\">\n            <NitroCardHeaderView headerText={ LocalizeText('navigator.createroom.title') } onCloseClick={ event => CreateLinkEvent('navigator/close-creator') } />\n            <NitroCardContentView>\n                <Column overflow=\"hidden\">\n                    <Grid overflow=\"hidden\">\n                        <Column size={ 5 } gap={ 1 } overflow=\"auto\" className=\"px-2 py-1\">\n                            <Column gap={ 1 }>\n                                <Text gfbold>{ LocalizeText('navigator.createroom.roomnameinfo') }</Text>\n                                <input type=\"text\" className=\"room-creator-form\" maxLength={ 60 } onChange={ event => setName(event.target.value) } placeholder={ LocalizeText('navigator.createroom.roomnameinfo') } />\n                            </Column>\n                            <Column grow gap={ 1 }>\n                                <Text gfbold>{ LocalizeText('navigator.createroom.roomdescinfo') }</Text>\n                                <textarea className=\"flex-grow-1 room-creator-form\" maxLength={ 255 } onChange={ event => setDescription(event.target.value) } placeholder={ LocalizeText('navigator.createroom.roomdescinfo') } />\n                            </Column>\n                            <Column gap={ 1 }>\n                                <Text gfbold>{ LocalizeText('navigator.category') }</Text>\n                                <select className=\"form-select form-select-sm\" onChange={ event => setCategory(Number(event.target.value)) }>\n                                    { categories && (categories.length > 0) && categories.map(category =>\n                                    {\n                                        return <option key={ category.id } value={ category.id }>{ LocalizeText(category.name) }</option>\n                                    }) }\n                                </select>\n                            </Column>\n                            <Column gap={ 1 }>\n                                <Text gfbold>{ LocalizeText('navigator.maxvisitors') }</Text>\n                                <select className=\"form-select form-select-sm\" onChange={ event => setVisitorsCount(Number(event.target.value)) }>\n                                    { maxVisitorsList && maxVisitorsList.map(value =>\n                                    {\n                                        return <option key={ value } value={ value }>{ value }</option>\n                                    }) }\n                                </select>\n                            </Column>\n                            <Column gap={ 1 }>\n                                <Text gfbold>{ LocalizeText('navigator.tradesettings') }</Text>\n                                <select className=\"form-select form-select-sm\" onChange={ event => setTradesSetting(Number(event.target.value)) }>\n                                    <option value=\"0\">{ LocalizeText('navigator.roomsettings.trade_not_allowed') }</option>\n                                    <option value=\"1\">{ LocalizeText('navigator.roomsettings.trade_not_with_Controller') }</option>\n                                    <option value=\"2\">{ LocalizeText('navigator.roomsettings.trade_allowed') }</option>\n                                </select>\n                            </Column>\n                            <Flex gap={ 2 }>\n                                <Button fullWidth className=\"volter-bold-button\" onClick={ createRoom } disabled={ (!name || (name.length < 3)) }>{ LocalizeText('navigator.createroom.create') }</Button>\n                                <Button fullWidth className=\"volter-button\" onClick={ event => CreateLinkEvent('navigator/close-creator') } >{ LocalizeText('cancel') }</Button>\n                            </Flex>\n                        </Column>\n                        <Column size={ 7 } gap={ 1 } overflow=\"auto\">\n                            <AutoGrid className=\"room-creator-grid\" columnCount={ 2 } columnMinWidth={ 100 } columnMinHeight={ 50 } overflow=\"unset\">\n                                {\n                                    roomModels.map((model, index )=>\n                                    {\n                                        return (<RoomCreatorGridItem fullHeight key={ model.name } onClick={ () => selectModel(model, index) } itemActive={ (selectedModelName === model.name) } overflow=\"unset\" gap={ 0 } className=\"py-3\" disabled={ (GetClubMemberLevel() < model.clubLevel) }>\n                                            <Flex fullHeight center overflow=\"hidden\">\n                                                <img alt=\"\" src={ getRoomModelImage(model.name) } />\n                                            </Flex>\n                                            <Text position=\"absolute\" className=\"bottom-1 start-1\">{ model.tileSize } { LocalizeText('navigator.createroom.tilesize') }</Text>\n                                            { !hcDisabled && model.clubLevel > HabboClubLevelEnum.NO_CLUB && <LayoutCurrencyIcon position=\"absolute\" className=\"top-1 end-1\" type=\"hc\" /> }\n                                            { selectedModelName && <i className=\"active-arrow\"/> }\n                                        </RoomCreatorGridItem>);\n                                    })\n                                }\n                            </AutoGrid>\n                        </Column>\n                    </Grid>\n                </Column>\n\n            </NitroCardContentView>\n        </NitroCardView>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}